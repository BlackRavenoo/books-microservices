var Rr=Object.defineProperty;var Ir=(e,t,n)=>t in e?Rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lt=(e,t,n)=>Ir(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function E(){}const qn=e=>e;function qe(e,t){for(const n in t)e[n]=t[n];return e}function xr(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Un(e){return e()}function on(){return Object.create(null)}function q(e){e.forEach(Un)}function Ye(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ct;function ke(e,t){return e===t?!0:(ct||(ct=document.createElement("a")),ct.href=t,e===ct.href)}function Fr(e){return Object.keys(e).length===0}function Ht(e,...t){if(e==null){for(const r of t)r(void 0);return E}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function an(e){let t;return Ht(e,n=>t=n)(),t}function Je(e,t,n){e.$$.on_destroy.push(Ht(t,n))}function Yt(e,t,n,r){if(e){const o=Qn(e,t,n,r);return e[0](o)}}function Qn(e,t,n,r){return e[1]&&r?qe(n.ctx.slice(),e[1](r(t))):n.ctx}function Dt(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(t.dirty.length,o.length);for(let l=0;l<a;l+=1)i[l]=t.dirty[l]|o[l];return i}return t.dirty|o}return t.dirty}function Xt(e,t,n,r,o,i){if(o){const a=Qn(t,n,r,i);e.p(a,o)}}function Bt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function sn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function ee(e){return e&&Ye(e.destroy)?e.destroy:E}const Kn=typeof window<"u";let er=Kn?()=>window.performance.now():()=>Date.now(),zt=Kn?e=>requestAnimationFrame(e):E;const Ge=new Set;function tr(e){Ge.forEach(t=>{t.c(e)||(Ge.delete(t),t.f())}),Ge.size!==0&&zt(tr)}function nr(e){let t;return Ge.size===0&&zt(tr),{promise:new Promise(n=>{Ge.add(t={c:e,f:n})}),abort(){Ge.delete(t)}}}function m(e,t){e.appendChild(t)}function rr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ar(e){const t=b("style");return t.textContent="/* empty */",Mr(rr(e),t),t.sheet}function Mr(e,t){return m(e.head||e,t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function ht(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function R(){return Y(" ")}function Ee(){return Y("")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Vr(e){return Array.from(e.childNodes)}function te(e,t){t=""+t,e.data!==t&&(e.data=t)}function ln(e,t){e.value=t??""}function Ae(e,t,n){e.classList.toggle(t,!!n)}function Tr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function cn(e,t){return new e(t)}const gt=new Map;let bt=0;function Wr(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Nr(e,t){const n={stylesheet:Ar(t),rules:{}};return gt.set(e,n),n}function or(e,t,n,r,o,i,a,l=0){const s=16.666/r;let c=`{
`;for(let y=0;y<=1;y+=s){const _=t+(n-t)*i(y);c+=y*100+`%{${a(_,1-_)}}
`}const u=c+`100% {${a(n,1-n)}}
}`,f=`__svelte_${Wr(u)}_${l}`,d=rr(e),{stylesheet:g,rules:v}=gt.get(d)||Nr(d,e);v[f]||(v[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${o}ms 1 both`,bt+=1,f}function At(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),bt-=o,bt||Zr())}function Zr(){zt(()=>{bt||(gt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&I(t)}),gt.clear())})}let Ue;function be(e){Ue=e}function Ke(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function De(e){Ke().$$.on_mount.push(e)}function ir(e){Ke().$$.on_destroy.push(e)}function Ct(e,t){return Ke().$$.context.set(e,t),t}function Mt(e){return Ke().$$.context.get(e)}const Ze=[],Vt=[];let Oe=[];const un=[],jr=Promise.resolve();let Tt=!1;function Gr(){Tt||(Tt=!0,jr.then($t))}function He(e){Oe.push(e)}const Et=new Set;let Me=0;function $t(){if(Me!==0)return;const e=Ue;do{try{for(;Me<Ze.length;){const t=Ze[Me];Me++,be(t),Or(t.$$)}}catch(t){throw Ze.length=0,Me=0,t}for(be(null),Ze.length=0,Me=0;Vt.length;)Vt.pop()();for(let t=0;t<Oe.length;t+=1){const n=Oe[t];Et.has(n)||(Et.add(n),n())}Oe.length=0}while(Ze.length);for(;un.length;)un.pop()();Tt=!1,Et.clear(),be(e)}function Or(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(He)}}function Hr(e){const t=[],n=[];Oe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Oe=t}let $e;function ar(){return $e||($e=Promise.resolve(),$e.then(()=>{$e=null})),$e}function yt(e,t,n){e.dispatchEvent(Tr(`${t?"intro":"outro"}${n}`))}const vt=new Set;let we;function Se(){we={r:0,c:[],p:we}}function Le(){we.r||q(we.c),we=we.p}function W(e,t){e&&e.i&&(vt.delete(e),e.i(t))}function N(e,t,n,r){if(e&&e.o){if(vt.has(e))return;vt.add(e),we.c.push(()=>{vt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const sr={duration:0};function Yr(e,t,n){const r={direction:"in"};let o=t(e,n,r),i=!1,a,l,s=0;function c(){a&&At(e,a)}function u(){const{delay:d=0,duration:g=300,easing:v=qn,tick:p=E,css:y}=o||sr;y&&(a=or(e,0,1,g,d,v,y,s++)),p(0,1);const _=er()+d,w=_+g;l&&l.abort(),i=!0,He(()=>yt(e,!0,"start")),l=nr(k=>{if(i){if(k>=w)return p(1,0),yt(e,!0,"end"),c(),i=!1;if(k>=_){const F=v((k-_)/g);p(F,1-F)}}return i})}let f=!1;return{start(){f||(f=!0,At(e),Ye(o)?(o=o(r),ar().then(u)):u())},invalidate(){f=!1},end(){i&&(c(),i=!1)}}}function Dr(e,t,n){const r={direction:"out"};let o=t(e,n,r),i=!0,a;const l=we;l.r+=1;let s;function c(){const{delay:u=0,duration:f=300,easing:d=qn,tick:g=E,css:v}=o||sr;v&&(a=or(e,1,0,f,u,d,v));const p=er()+u,y=p+f;He(()=>yt(e,!1,"start")),"inert"in e&&(s=e.inert,e.inert=!0),nr(_=>{if(i){if(_>=y)return g(0,1),yt(e,!1,"end"),--l.r||q(l.c),!1;if(_>=p){const w=d((_-p)/f);g(1-w,w)}}return i})}return Ye(o)?ar().then(()=>{o=o(r),c()}):c(),{end(u){u&&"inert"in e&&(e.inert=s),u&&o.tick&&o.tick(1,0),i&&(a&&At(e,a),i=!1)}}}function fn(e,t){const n=t.token={};function r(o,i,a,l){if(t.token!==n)return;t.resolved=l;let s=t.ctx;a!==void 0&&(s=s.slice(),s[a]=l);const c=o&&(t.current=o)(s);let u=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==i&&f&&(Se(),N(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),Le())}):t.block.d(1),c.c(),W(c,1),c.m(t.mount(),t.anchor),u=!0),t.block=c,t.blocks&&(t.blocks[i]=c),u&&$t()}if(xr(e)){const o=Ke();if(e.then(i=>{be(o),r(t.then,1,t.value,i),be(null)},i=>{if(be(o),r(t.catch,2,t.error,i),be(null),!t.hasCatch)throw i}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Xr(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}function ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Br(e,t){N(e,1,1,()=>{t.delete(e.key)})}function zr(e,t,n,r,o,i,a,l,s,c,u,f){let d=e.length,g=i.length,v=d;const p={};for(;v--;)p[e[v].key]=v;const y=[],_=new Map,w=new Map,k=[];for(v=g;v--;){const A=f(o,i,v),S=n(A);let L=a.get(S);L?k.push(()=>L.p(A,t)):(L=c(S,A),L.c()),_.set(S,y[v]=L),S in p&&w.set(S,Math.abs(v-p[S]))}const F=new Set,M=new Set;function Z(A){W(A,1),A.m(l,u),a.set(A.key,A),u=A.first,g--}for(;d&&g;){const A=y[g-1],S=e[d-1],L=A.key,V=S.key;A===S?(u=A.first,d--,g--):_.has(V)?!a.has(L)||F.has(L)?Z(A):M.has(V)?d--:w.get(L)>w.get(V)?(M.add(L),Z(A)):(F.add(V),d--):(s(S,a),d--)}for(;d--;){const A=e[d];_.has(A.key)||s(A,a)}for(;g;)Z(y[g-1]);return q(k),y}function dn(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const s in a)s in l||(r[s]=1);for(const s in l)o[s]||(n[s]=l[s],o[s]=1);e[i]=l}else for(const s in a)o[s]=1}for(const a in r)a in n||(n[a]=void 0);return n}function ut(e){return typeof e=="object"&&e!==null?e:{}}function ue(e){e&&e.c()}function ie(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),He(()=>{const i=e.$$.on_mount.map(Un).filter(Ye);e.$$.on_destroy?e.$$.on_destroy.push(...i):q(i),e.$$.on_mount=[]}),o.forEach(He)}function ae(e,t){const n=e.$$;n.fragment!==null&&(Hr(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $r(e,t){e.$$.dirty[0]===-1&&(Ze.push(e),Gr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,n,r,o,i,a=null,l=[-1]){const s=Ue;be(e);const c=e.$$={fragment:null,ctx:[],props:i,update:E,not_equal:o,bound:on(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:on(),dirty:l,skip_bound:!1,root:t.target||s.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,d,...g)=>{const v=g.length?g[0]:d;return c.ctx&&o(c.ctx[f],c.ctx[f]=v)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](v),u&&$r(e,f)),d}):[],c.update(),u=!0,q(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=Vr(t.target);c.fragment&&c.fragment.l(f),f.forEach(I)}else c.fragment&&c.fragment.c();t.intro&&W(e.$$.fragment),ie(e,t.target,t.anchor),$t()}be(s)}class he{constructor(){Lt(this,"$$");Lt(this,"$$set")}$destroy(){ae(this,1),this.$destroy=E}$on(t,n){if(!Ye(n))return E;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Fr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Jr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jr);const mn={},Wt={},qr={},lr=/^:(.+)/,hn=4,Ur=3,Qr=2,Kr=1,eo=1,Nt=e=>e.replace(/(^\/+|\/+$)/g,"").split("/"),Pt=e=>e.replace(/(^\/+|\/+$)/g,""),to=(e,t)=>{const n=e.default?0:Nt(e.path).reduce((r,o)=>(r+=hn,o===""?r+=eo:lr.test(o)?r+=Qr:o[0]==="*"?r-=hn+Kr:r+=Ur,r),0);return{route:e,score:n,index:t}},no=e=>e.map(to).sort((t,n)=>t.score<n.score?1:t.score>n.score?-1:t.index-n.index),vn=(e,t)=>{let n,r;const[o]=t.split("?"),i=Nt(o),a=i[0]==="",l=no(e);for(let s=0,c=l.length;s<c;s++){const u=l[s].route;let f=!1;if(u.default){r={route:u,params:{},uri:t};continue}const d=Nt(u.path),g={},v=Math.max(i.length,d.length);let p=0;for(;p<v;p++){const y=d[p],_=i[p];if(y&&y[0]==="*"){const k=y==="*"?"*":y.slice(1);g[k]=i.slice(p).map(decodeURIComponent).join("/");break}if(typeof _>"u"){f=!0;break}const w=lr.exec(y);if(w&&!a){const k=decodeURIComponent(_);g[w[1]]=k}else if(y!==_){f=!0;break}}if(!f){n={route:u,params:g,uri:"/"+i.slice(0,p).join("/")};break}}return n||r||null},pn=(e,t)=>`${Pt(t==="/"?e:`${Pt(e)}/${Pt(t)}`)}/`,ro=e=>!e.defaultPrevented&&e.button===0&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey),oo=e=>{const t=location.host;return e.host===t||e.href.indexOf(`https://${t}`)===0||e.href.indexOf(`http://${t}`)===0},cr=()=>typeof window<"u"&&"document"in window&&"location"in window,io=e=>({params:e&4}),gn=e=>({params:e[2]});function bn(e){let t,n,r,o;const i=[so,ao],a=[];function l(s,c){return s[0]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=Ee()},m(s,c){a[t].m(s,c),x(s,r,c),o=!0},p(s,c){let u=t;t=l(s),t===u?a[t].p(s,c):(Se(),N(a[u],1,1,()=>{a[u]=null}),Le(),n=a[t],n?n.p(s,c):(n=a[t]=i[t](s),n.c()),W(n,1),n.m(r.parentNode,r))},i(s){o||(W(n),o=!0)},o(s){N(n),o=!1},d(s){s&&I(r),a[t].d(s)}}}function ao(e){let t;const n=e[8].default,r=Yt(n,e,e[7],gn);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&132)&&Xt(r,n,o,o[7],t?Dt(n,o[7],i,io):Bt(o[7]),gn)},i(o){t||(W(r,o),t=!0)},o(o){N(r,o),t=!1},d(o){r&&r.d(o)}}}function so(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:uo,then:co,catch:lo,value:12,blocks:[,,,]};return fn(n=e[0],o),{c(){t=Ee(),o.block.c()},m(i,a){x(i,t,a),o.block.m(i,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(i,a){e=i,o.ctx=e,a&1&&n!==(n=e[0])&&fn(n,o)||Xr(o,e,a)},i(i){r||(W(o.block),r=!0)},o(i){for(let a=0;a<3;a+=1){const l=o.blocks[a];N(l)}r=!1},d(i){i&&I(t),o.block.d(i),o.token=null,o=null}}}function lo(e){return{c:E,m:E,p:E,i:E,o:E,d:E}}function co(e){var l;let t,n,r;const o=[e[2],e[3]];var i=((l=e[12])==null?void 0:l.default)||e[12];function a(s,c){let u={};for(let f=0;f<o.length;f+=1)u=qe(u,o[f]);return c!==void 0&&c&12&&(u=qe(u,dn(o,[c&4&&ut(s[2]),c&8&&ut(s[3])]))),{props:u}}return i&&(t=cn(i,a(e))),{c(){t&&ue(t.$$.fragment),n=Ee()},m(s,c){t&&ie(t,s,c),x(s,n,c),r=!0},p(s,c){var u;if(c&1&&i!==(i=((u=s[12])==null?void 0:u.default)||s[12])){if(t){Se();const f=t;N(f.$$.fragment,1,0,()=>{ae(f,1)}),Le()}i?(t=cn(i,a(s,c)),ue(t.$$.fragment),W(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else if(i){const f=c&12?dn(o,[c&4&&ut(s[2]),c&8&&ut(s[3])]):{};t.$set(f)}},i(s){r||(t&&W(t.$$.fragment,s),r=!0)},o(s){t&&N(t.$$.fragment,s),r=!1},d(s){s&&I(n),t&&ae(t,s)}}}function uo(e){return{c:E,m:E,p:E,i:E,o:E,d:E}}function fo(e){let t,n,r=e[1]&&e[1].route===e[5]&&bn(e);return{c(){r&&r.c(),t=Ee()},m(o,i){r&&r.m(o,i),x(o,t,i),n=!0},p(o,[i]){o[1]&&o[1].route===o[5]?r?(r.p(o,i),i&2&&W(r,1)):(r=bn(o),r.c(),W(r,1),r.m(t.parentNode,t)):r&&(Se(),N(r,1,1,()=>{r=null}),Le())},i(o){n||(W(r),n=!0)},o(o){N(r),n=!1},d(o){o&&I(t),r&&r.d(o)}}}function mo(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{path:a=""}=t,{component:l=null}=t,s={},c={};const{registerRoute:u,unregisterRoute:f,activeRoute:d}=Mt(Wt);Je(e,d,v=>n(1,r=v));const g={path:a,default:a===""};return u(g),ir(()=>{f(g)}),e.$$set=v=>{n(11,t=qe(qe({},t),sn(v))),"path"in v&&n(6,a=v.path),"component"in v&&n(0,l=v.component),"$$scope"in v&&n(7,i=v.$$scope)},e.$$.update=()=>{if(r&&r.route===g){n(2,s=r.params);const{component:v,path:p,...y}=t;n(3,c=y),v&&(v.toString().startsWith("class ")?n(0,l=v):n(0,l=v())),cr()&&!r.preserveScroll&&(window==null||window.scrollTo(0,0))}},t=sn(t),[l,r,s,c,d,g,a,i,o]}class ft extends he{constructor(t){super(),me(this,t,mo,fo,re,{path:6,component:0})}}const Ve=[];function ho(e,t){return{subscribe:je(e,t).subscribe}}function je(e,t=E){let n;const r=new Set;function o(l){if(re(e,l)&&(e=l,n)){const s=!Ve.length;for(const c of r)c[1](),Ve.push(c,e);if(s){for(let c=0;c<Ve.length;c+=2)Ve[c][0](Ve[c+1]);Ve.length=0}}}function i(l){o(l(e))}function a(l,s=E){const c=[l,s];return r.add(c),r.size===1&&(n=t(o,i)||E),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}function vo(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return ho(n,(a,l)=>{let s=!1;const c=[];let u=0,f=E;const d=()=>{if(u)return;f();const v=t(r?c[0]:c,a,l);i?a(v):f=Ye(v)?v:E},g=o.map((v,p)=>Ht(v,y=>{c[p]=y,u&=~(1<<p),s&&d()},()=>{u|=1<<p}));return s=!0,d(),function(){q(g),f(),s=!1}})}const Rt=e=>({...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}),po=e=>{const t=[];let n=Rt(e);return{get location(){return n},listen(r){t.push(r);const o=()=>{n=Rt(e),r({location:n,action:"POP"})};return e.addEventListener("popstate",o),()=>{e.removeEventListener("popstate",o);const i=t.indexOf(r);t.splice(i,1)}},navigate(r,{state:o,replace:i=!1,preserveScroll:a=!1,blurActiveElement:l=!0}={}){o={...o,key:Date.now()+""};try{i?e.history.replaceState(o,"",r):e.history.pushState(o,"",r)}catch{e.location[i?"replace":"assign"](r)}n=Rt(e),t.forEach(s=>s({location:n,action:"PUSH",preserveScroll:a})),l&&document.activeElement.blur()}}},go=(e="/")=>{let t=0;const n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener(o,i){},removeEventListener(o,i){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(o,i,a){const[l,s=""]=a.split("?");t++,n.push({pathname:l,search:s}),r.push(o)},replaceState(o,i,a){const[l,s=""]=a.split("?");n[t]={pathname:l,search:s},r[t]=o}}}},ur=po(cr()?window:go()),{navigate:Zt}=ur,bo=e=>({route:e&4,location:e&2}),yn=e=>({route:e[2]&&e[2].uri,location:e[1]}),yo=e=>({route:e&4,location:e&2}),_n=e=>({route:e[2]&&e[2].uri,location:e[1]});function _o(e){let t;const n=e[15].default,r=Yt(n,e,e[14],yn);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&16390)&&Xt(r,n,o,o[14],t?Dt(n,o[14],i,bo):Bt(o[14]),yn)},i(o){t||(W(r,o),t=!0)},o(o){N(r,o),t=!1},d(o){r&&r.d(o)}}}function wo(e){let t=e[1].pathname,n,r,o=wn(e);return{c(){o.c(),n=Ee()},m(i,a){o.m(i,a),x(i,n,a),r=!0},p(i,a){a&2&&re(t,t=i[1].pathname)?(Se(),N(o,1,1,E),Le(),o=wn(i),o.c(),W(o,1),o.m(n.parentNode,n)):o.p(i,a)},i(i){r||(W(o),r=!0)},o(i){N(o),r=!1},d(i){i&&I(n),o.d(i)}}}function wn(e){let t,n,r,o;const i=e[15].default,a=Yt(i,e,e[14],_n);return{c(){t=b("div"),a&&a.c()},m(l,s){x(l,t,s),a&&a.m(t,null),o=!0},p(l,s){a&&a.p&&(!o||s&16390)&&Xt(a,i,l,l[14],o?Dt(i,l[14],s,yo):Bt(l[14]),_n)},i(l){o||(W(a,l),l&&He(()=>{o&&(r&&r.end(1),n=Yr(t,e[3],{}),n.start())}),o=!0)},o(l){N(a,l),n&&n.invalidate(),l&&(r=Dr(t,e[3],{})),o=!1},d(l){l&&I(t),a&&a.d(l),l&&r&&r.end()}}}function ko(e){let t,n,r,o;const i=[wo,_o],a=[];function l(s,c){return s[0]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=Ee()},m(s,c){a[t].m(s,c),x(s,r,c),o=!0},p(s,[c]){let u=t;t=l(s),t===u?a[t].p(s,c):(Se(),N(a[u],1,1,()=>{a[u]=null}),Le(),n=a[t],n?n.p(s,c):(n=a[t]=i[t](s),n.c()),W(n,1),n.m(r.parentNode,r))},i(s){o||(W(n),o=!0)},o(s){N(n),o=!1},d(s){s&&I(r),a[t].d(s)}}}function So(e,t,n){let r,o,i,a,{$$slots:l={},$$scope:s}=t,{basepath:c="/"}=t,{url:u=null}=t,{viewtransition:f=null}=t,{history:d=ur}=t;const g=(L,V,G)=>{const O=f(G);return typeof(O==null?void 0:O.fn)=="function"?O.fn(L,O):O};Ct(qr,d);const v=Mt(mn),p=Mt(Wt),y=je([]);Je(e,y,L=>n(12,o=L));const _=je(null);Je(e,_,L=>n(2,a=L));let w=!1;const k=v||je(u?{pathname:u}:d.location);Je(e,k,L=>n(1,r=L));const F=p?p.routerBase:je({path:c,uri:c});Je(e,F,L=>n(13,i=L));const M=vo([F,_],([L,V])=>{if(!V)return L;const{path:G}=L,{route:O,uri:le}=V;return{path:O.default?G:O.path.replace(/\*.*$/,""),uri:le}}),Z=L=>{const{path:V}=i;let{path:G}=L;if(L._path=G,L.path=pn(V,G),typeof window>"u"){if(w)return;const O=vn([L],r.pathname);O&&(_.set(O),w=!0)}else y.update(O=>[...O,L])},A=L=>{y.update(V=>V.filter(G=>G!==L))};let S=!1;return v||(De(()=>d.listen(V=>{n(11,S=V.preserveScroll||!1),k.set(V.location)})),Ct(mn,k)),Ct(Wt,{activeRoute:_,base:F,routerBase:M,registerRoute:Z,unregisterRoute:A}),e.$$set=L=>{"basepath"in L&&n(8,c=L.basepath),"url"in L&&n(9,u=L.url),"viewtransition"in L&&n(0,f=L.viewtransition),"history"in L&&n(10,d=L.history),"$$scope"in L&&n(14,s=L.$$scope)},e.$$.update=()=>{if(e.$$.dirty&8192){const{path:L}=i;y.update(V=>V.map(G=>Object.assign(G,{path:pn(L,G._path)})))}if(e.$$.dirty&6146){const L=vn(o,r.pathname);_.set(L&&{...L,preserveScroll:S})}},[f,r,a,g,y,_,k,F,c,u,d,S,o,i,s,l]}class Lo extends he{constructor(t){super(),me(this,t,So,ko,re,{basepath:8,url:9,viewtransition:0,history:10})}}const ne=e=>{const t=n=>{const r=n.currentTarget;(r.target===""||r.target==="_self")&&oo(r)&&ro(n)&&(n.preventDefault(),Zt(r.pathname+r.search,{replace:r.hasAttribute("replace"),preserveScroll:r.hasAttribute("preserveScroll")}))};return e.addEventListener("click",t),{destroy(){e.removeEventListener("click",t)}}};function Co(){const{subscribe:e,set:t,update:n}=je({user:null,token:null});return{subscribe:e,setTokens:(r,o,i="Bearer")=>{const a={access_token:r,refresh_token:o,token_type:i};localStorage.setItem("token",JSON.stringify(a)),n(l=>({...l,token:a}))},setUser:r=>{localStorage.setItem("user",JSON.stringify(r)),n(o=>({...o,user:r}))},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("codeVerifier"),t({user:null,token:null})},initialize:()=>{const r=localStorage.getItem("token"),o=localStorage.getItem("user"),i=r?JSON.parse(r):null,a=o?JSON.parse(o):null;t({user:a,token:i})},isAuthenticated:()=>{const r=an(K);return r.user!==null&&r.token!==null},isAdmin:()=>{var o,i;return((i=(o=an(K).user)==null?void 0:o.roles)==null?void 0:i.includes("admin"))||!1}}}const K=Co();var jt=function(){return jt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jt.apply(this,arguments)};function ve(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{c(r.next(u))}catch(f){a(f)}}function s(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):o(u.value).then(l,s)}c((r=r.apply(e,t||[])).next())})}function pe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function fr(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var dr="4.6.2";function _t(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function Eo(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function Po(e,t){t===void 0&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(r){return n.call(window,function(){return r()},{timeout:t})}):_t(Math.min(e,t))}function mr(e){return!!e&&typeof e.then=="function"}function kn(e,t){try{var n=e();mr(n)?n.then(function(r){return t(!0,r)},function(r){return t(!1,r)}):t(!0,n)}catch(r){t(!1,r)}}function Sn(e,t,n){return n===void 0&&(n=16),ve(this,void 0,void 0,function(){var r,o,i,a;return pe(this,function(l){switch(l.label){case 0:r=Array(e.length),o=Date.now(),i=0,l.label=1;case 1:return i<e.length?(r[i]=t(e[i],i),a=Date.now(),a>=o+n?(o=a,[4,Eo()]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++i,[3,1];case 4:return[2,r]}})})}function Qe(e){return e.then(void 0,function(){}),e}function Ro(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}function Io(e,t){return!Ro(e,t)}function Jt(e){return parseInt(e)}function oe(e){return parseFloat(e)}function ge(e,t){return typeof e=="number"&&isNaN(e)?t:e}function $(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function hr(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function xo(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(e),i=o[1]||void 0,a={},l=/([.:#][\w-]+|\[.+?\])/gi,s=function(d,g){a[d]=a[d]||[],a[d].push(g)};;){var c=l.exec(o[2]);if(!c)break;var u=c[0];switch(u[0]){case".":s("class",u.slice(1));break;case"#":s("id",u.slice(1));break;case"[":{var f=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(f)s(f[1],(n=(t=f[4])!==null&&t!==void 0?t:f[5])!==null&&n!==void 0?n:"");else throw new Error(r);break}default:throw new Error(r)}}return[i,a]}function Fo(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>127)return new TextEncoder().encode(e);t[n]=r}return t}function _e(e,t){var n=e[0]>>>16,r=e[0]&65535,o=e[1]>>>16,i=e[1]&65535,a=t[0]>>>16,l=t[0]&65535,s=t[1]>>>16,c=t[1]&65535,u=0,f=0,d=0,g=0;g+=i+c,d+=g>>>16,g&=65535,d+=o+s,f+=d>>>16,d&=65535,f+=r+l,u+=f>>>16,f&=65535,u+=n+a,u&=65535,e[0]=u<<16|f,e[1]=d<<16|g}function Q(e,t){var n=e[0]>>>16,r=e[0]&65535,o=e[1]>>>16,i=e[1]&65535,a=t[0]>>>16,l=t[0]&65535,s=t[1]>>>16,c=t[1]&65535,u=0,f=0,d=0,g=0;g+=i*c,d+=g>>>16,g&=65535,d+=o*c,f+=d>>>16,d&=65535,d+=i*s,f+=d>>>16,d&=65535,f+=r*c,u+=f>>>16,f&=65535,f+=o*s,u+=f>>>16,f&=65535,f+=i*l,u+=f>>>16,f&=65535,u+=n*c+r*s+o*l+i*a,u&=65535,e[0]=u<<16|f,e[1]=d<<16|g}function Te(e,t){var n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function U(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function j(e,t){e[0]^=t[0],e[1]^=t[1]}var Ao=[4283543511,3981806797],Mo=[3301882366,444984403];function Ln(e){var t=[0,e[0]>>>1];j(e,t),Q(e,Ao),t[1]=e[0]>>>1,j(e,t),Q(e,Mo),t[1]=e[0]>>>1,j(e,t)}var dt=[2277735313,289559509],mt=[1291169091,658871167],Cn=[0,5],Vo=[0,1390208809],To=[0,944331445];function Wo(e,t){var n=Fo(e);t=t||0;var r=[0,n.length],o=r[1]%16,i=r[1]-o,a=[0,t],l=[0,t],s=[0,0],c=[0,0],u;for(u=0;u<i;u=u+16)s[0]=n[u+4]|n[u+5]<<8|n[u+6]<<16|n[u+7]<<24,s[1]=n[u]|n[u+1]<<8|n[u+2]<<16|n[u+3]<<24,c[0]=n[u+12]|n[u+13]<<8|n[u+14]<<16|n[u+15]<<24,c[1]=n[u+8]|n[u+9]<<8|n[u+10]<<16|n[u+11]<<24,Q(s,dt),Te(s,31),Q(s,mt),j(a,s),Te(a,27),_e(a,l),Q(a,Cn),_e(a,Vo),Q(c,mt),Te(c,33),Q(c,dt),j(l,c),Te(l,31),_e(l,a),Q(l,Cn),_e(l,To);s[0]=0,s[1]=0,c[0]=0,c[1]=0;var f=[0,0];switch(o){case 15:f[1]=n[u+14],U(f,48),j(c,f);case 14:f[1]=n[u+13],U(f,40),j(c,f);case 13:f[1]=n[u+12],U(f,32),j(c,f);case 12:f[1]=n[u+11],U(f,24),j(c,f);case 11:f[1]=n[u+10],U(f,16),j(c,f);case 10:f[1]=n[u+9],U(f,8),j(c,f);case 9:f[1]=n[u+8],j(c,f),Q(c,mt),Te(c,33),Q(c,dt),j(l,c);case 8:f[1]=n[u+7],U(f,56),j(s,f);case 7:f[1]=n[u+6],U(f,48),j(s,f);case 6:f[1]=n[u+5],U(f,40),j(s,f);case 5:f[1]=n[u+4],U(f,32),j(s,f);case 4:f[1]=n[u+3],U(f,24),j(s,f);case 3:f[1]=n[u+2],U(f,16),j(s,f);case 2:f[1]=n[u+1],U(f,8),j(s,f);case 1:f[1]=n[u],j(s,f),Q(s,dt),Te(s,31),Q(s,mt),j(a,s)}return j(a,r),j(l,r),_e(a,l),_e(l,a),Ln(a),Ln(l),_e(a,l),_e(l,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function No(e){var t;return jt({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function Zo(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function jo(e){return typeof e!="function"}function Go(e,t){var n=Qe(new Promise(function(r){var o=Date.now();kn(e.bind(null,t),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var l=Date.now()-o;if(!i[0])return r(function(){return{error:i[1],duration:l}});var s=i[1];if(jo(s))return r(function(){return{value:s,duration:l}});r(function(){return new Promise(function(c){var u=Date.now();kn(s,function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var g=l+Date.now()-u;if(!f[0])return c({error:f[1],duration:g});c({value:f[1],duration:g})})})})})}));return function(){return n.then(function(o){return o()})}}function Oo(e,t,n,r){var o=Object.keys(e).filter(function(a){return Io(n,a)}),i=Qe(Sn(o,function(a){return Go(e[a],t)},r));return function(){return ve(this,void 0,void 0,function(){var l,s,c,u,f;return pe(this,function(d){switch(d.label){case 0:return[4,i];case 1:return l=d.sent(),[4,Sn(l,function(g){return Qe(g())},r)];case 2:return s=d.sent(),[4,Promise.all(s)];case 3:for(c=d.sent(),u={},f=0;f<o.length;++f)u[o[f]]=c[f];return[2,u]}})})}}function vr(){var e=window,t=navigator;return $(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Ho(){var e=window,t=navigator;return $(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!vr()}function et(){var e=window,t=navigator;return $(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function se(){var e=window,t=navigator;return $(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function qt(){var e=window,t=e.HTMLElement,n=e.Document;return $(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function tt(){var e=window;return Zo(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function pr(){var e,t,n=window;return $(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function Yo(){var e=window;return $([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function Do(){var e=window,t=e.URLPattern;return $(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function Xo(){var e=window;return $(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function nt(){var e=window,t=navigator,n=e.CSS,r=e.HTMLButtonElement;return $([!("getStorageUpdates"in t),r&&"popover"in r.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function Bo(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return $(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function zo(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function $o(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function Ut(){var e=et(),t=pr(),n=window,r=navigator,o="connection";return e?$([!("SharedWorker"in n),r[o]&&"ontypechange"in r[o],!("sinkId"in new Audio)])>=2:t?$(["onorientationchange"in n,"orientation"in n,/android/i.test(r.appVersion)])>=2:!1}function Jo(){var e=navigator,t=window,n=Audio.prototype,r=t.visualViewport;return $(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,r&&"segments"in r,"getTextInformation"in Image.prototype])>=3}function qo(){return Ko()?-4:Uo()}function Uo(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Qo())return-1;var n=4500,r=5e3,o=new t(1,r,44100),i=o.createOscillator();i.type="triangle",i.frequency.value=1e4;var a=o.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,i.connect(a),a.connect(o.destination),i.start(0);var l=ei(o),s=l[0],c=l[1],u=Qe(s.then(function(f){return ti(f.getChannelData(0).subarray(n))},function(f){if(f.name==="timeout"||f.name==="suspended")return-3;throw f}));return function(){return c(),u}}function Qo(){return se()&&!qt()&&!Xo()}function Ko(){return se()&&nt()&&tt()||et()&&Jo()&&Do()}function ei(e){var t=3,n=500,r=500,o=5e3,i=function(){},a=new Promise(function(l,s){var c=!1,u=0,f=0;e.oncomplete=function(v){return l(v.renderedBuffer)};var d=function(){setTimeout(function(){return s(En("timeout"))},Math.min(r,f+o-Date.now()))},g=function(){try{var v=e.startRendering();switch(mr(v)&&Qe(v),e.state){case"running":f=Date.now(),c&&d();break;case"suspended":document.hidden||u++,c&&u>=t?s(En("suspended")):setTimeout(g,n);break}}catch(p){s(p)}};g(),i=function(){c||(c=!0,f>0&&d())}});return[a,i]}function ti(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function En(e){var t=new Error(e);return t.name=e,t}function gr(e,t,n){var r,o,i;return n===void 0&&(n=50),ve(this,void 0,void 0,function(){var a,l;return pe(this,function(s){switch(s.label){case 0:a=document,s.label=1;case 1:return a.body?[3,3]:[4,_t(n)];case 2:return s.sent(),[3,1];case 3:l=a.createElement("iframe"),s.label=4;case 4:return s.trys.push([4,,10,11]),[4,new Promise(function(c,u){var f=!1,d=function(){f=!0,c()},g=function(y){f=!0,u(y)};l.onload=d,l.onerror=g;var v=l.style;v.setProperty("display","block","important"),v.position="absolute",v.top="0",v.left="0",v.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",a.body.appendChild(l);var p=function(){var y,_;f||(((_=(y=l.contentWindow)===null||y===void 0?void 0:y.document)===null||_===void 0?void 0:_.readyState)==="complete"?d():setTimeout(p,10))};p()})];case 5:s.sent(),s.label=6;case 6:return!((o=(r=l.contentWindow)===null||r===void 0?void 0:r.document)===null||o===void 0)&&o.body?[3,8]:[4,_t(n)];case 7:return s.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,s.sent()];case 10:return(i=l.parentNode)===null||i===void 0||i.removeChild(l),[7];case 11:return[2]}})})}function ni(e){for(var t=xo(e),n=t[0],r=t[1],o=document.createElement(n??"div"),i=0,a=Object.keys(r);i<a.length;i++){var l=a[i],s=r[l].join(" ");l==="style"?ri(o.style,s):o.setAttribute(l,s)}return o}function ri(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(i){var a=i[1],l=i[2],s=i[4];e.setProperty(a,l,s||"")}}}function oi(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}e=t}}var ii="mmMwWLliI0O&1",ai="48px",We=["monospace","sans-serif","serif"],Pn=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function si(){var e=this;return gr(function(t,n){var r=n.document;return ve(e,void 0,void 0,function(){var o,i,a,l,s,c,u,f,d,g,v,p;return pe(this,function(y){for(o=r.body,o.style.fontSize=ai,i=r.createElement("div"),i.style.setProperty("visibility","hidden","important"),a={},l={},s=function(_){var w=r.createElement("span"),k=w.style;return k.position="absolute",k.top="0",k.left="0",k.fontFamily=_,w.textContent=ii,i.appendChild(w),w},c=function(_,w){return s("'".concat(_,"',").concat(w))},u=function(){return We.map(s)},f=function(){for(var _={},w=function(Z){_[Z]=We.map(function(A){return c(Z,A)})},k=0,F=Pn;k<F.length;k++){var M=F[k];w(M)}return _},d=function(_){return We.some(function(w,k){return _[k].offsetWidth!==a[w]||_[k].offsetHeight!==l[w]})},g=u(),v=f(),o.appendChild(i),p=0;p<We.length;p++)a[We[p]]=g[p].offsetWidth,l[We[p]]=g[p].offsetHeight;return[2,Pn.filter(function(_){return d(v[_])})]})})})}function li(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var o=[],i=0;i<r.length;++i){var a=r[i];o.push({type:a.type,suffixes:a.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:o})}}return t}}function ci(){return ui(gi())}function ui(e){var t,n=!1,r,o,i=fi(),a=i[0],l=i[1];return di(a,l)?(n=mi(l),e?r=o="skipped":(t=hi(a,l),r=t[0],o=t[1])):r=o="unsupported",{winding:n,geometry:r,text:o}}function fi(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function di(e,t){return!!(t&&e.toDataURL)}function mi(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function hi(e,t){vi(e,t);var n=It(e),r=It(e);if(n!==r)return["unstable","unstable"];pi(e,t);var o=It(e);return[o,n]}function vi(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat("😃");t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function pi(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var o=r[n],i=o[0],a=o[1],l=o[2];t.fillStyle=i,t.beginPath(),t.arc(a,l,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function It(e){return e.toDataURL()}function gi(){return se()&&nt()&&tt()}function bi(){var e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=Jt(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var r="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:r}}function yi(){return navigator.oscpu}function _i(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))et()&&Yo()||t.push(e.languages);else if(typeof e.languages=="string"){var r=e.languages;r&&t.push(r.split(","))}return t}function wi(){return window.screen.colorDepth}function ki(){return ge(oe(navigator.deviceMemory),void 0)}function Si(){if(!(se()&&nt()&&tt()))return Li()}function Li(){var e=screen,t=function(r){return ge(Jt(r),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var Ci=2500,Ei=10,pt,xt;function Pi(){if(xt===void 0){var e=function(){var t=Gt();Ot(t)?xt=setTimeout(e,Ci):(pt=t,xt=void 0)};e()}}function Ri(){var e=this;return Pi(),function(){return ve(e,void 0,void 0,function(){var t;return pe(this,function(n){switch(n.label){case 0:return t=Gt(),Ot(t)?pt?[2,fr([],pt,!0)]:zo()?[4,$o()]:[3,2]:[3,2];case 1:n.sent(),t=Gt(),n.label=2;case 2:return Ot(t)||(pt=t),[2,t]}})})}}function Ii(){var e=this;if(se()&&nt()&&tt())return function(){return Promise.resolve(void 0)};var t=Ri();return function(){return ve(e,void 0,void 0,function(){var n,r;return pe(this,function(o){switch(o.label){case 0:return[4,t()];case 1:return n=o.sent(),r=function(i){return i===null?null:hr(i,Ei)},[2,[r(n[0]),r(n[1]),r(n[2]),r(n[3])]]}})})}}function Gt(){var e=screen;return[ge(oe(e.availTop),null),ge(oe(e.width)-oe(e.availWidth)-ge(oe(e.availLeft),0),null),ge(oe(e.height)-oe(e.availHeight)-ge(oe(e.availTop),0),null),ge(oe(e.availLeft),null)]}function Ot(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function xi(){return ge(Jt(navigator.hardwareConcurrency),void 0)}function Fi(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var n=new t().resolvedOptions().timeZone;if(n)return n}var r=-Ai();return"UTC".concat(r>=0?"+":"").concat(r)}function Ai(){var e=new Date().getFullYear();return Math.max(oe(new Date(e,0,1).getTimezoneOffset()),oe(new Date(e,6,1).getTimezoneOffset()))}function Mi(){try{return!!window.sessionStorage}catch{return!0}}function Vi(){try{return!!window.localStorage}catch{return!0}}function Ti(){if(!(vr()||Ho()))try{return!!window.indexedDB}catch{return!0}}function Wi(){return!!window.openDatabase}function Ni(){return navigator.cpuClass}function Zi(){var e=navigator.platform;return e==="MacIntel"&&se()&&!qt()?Bo()?"iPad":"iPhone":e}function ji(){return navigator.vendor||""}function Gi(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],o=window[r];o&&typeof o=="object"&&e.push(r)}return e.sort()}function Oi(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function Hi(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function Yi(e){var t=e===void 0?{}:e,n=t.debug;return ve(this,void 0,void 0,function(){var r,o,i,a,l,s;return pe(this,function(c){switch(c.label){case 0:return Di()?(r=Hi(),o=Object.keys(r),i=(s=[]).concat.apply(s,o.map(function(u){return r[u]})),[4,Xi(i)]):[2,void 0];case 1:return a=c.sent(),n&&Bi(r,a),l=o.filter(function(u){var f=r[u],d=$(f.map(function(g){return a[g]}));return d>f.length*.6}),l.sort(),[2,l]}})})}function Di(){return se()||Ut()}function Xi(e){var t;return ve(this,void 0,void 0,function(){var n,r,o,i,s,a,l,s;return pe(this,function(c){switch(c.label){case 0:for(n=document,r=n.createElement("div"),o=new Array(e.length),i={},Rn(r),s=0;s<e.length;++s)a=ni(e[s]),a.tagName==="DIALOG"&&a.show(),l=n.createElement("div"),Rn(l),l.appendChild(a),r.appendChild(l),o[s]=a;c.label=1;case 1:return n.body?[3,3]:[4,_t(50)];case 2:return c.sent(),[3,1];case 3:n.body.appendChild(r);try{for(s=0;s<e.length;++s)o[s].offsetParent||(i[e[s]]=!0)}finally{(t=r.parentNode)===null||t===void 0||t.removeChild(r)}return[2,i]}})})}function Rn(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function Bi(e,t){for(var n="DOM blockers debug:\n```",r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n+=`
`.concat(i,":");for(var a=0,l=e[i];a<l.length;a++){var s=l[a];n+=`
  `.concat(t[s]?"🚫":"➡️"," ").concat(s)}}console.log("".concat(n,"\n```"))}function zi(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function $i(){if(In("inverted"))return!0;if(In("none"))return!1}function In(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function Ji(){if(xn("active"))return!0;if(xn("none"))return!1}function xn(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var qi=100;function Ui(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=qi;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function Qi(){if(Ne("no-preference"))return 0;if(Ne("high")||Ne("more"))return 1;if(Ne("low")||Ne("less"))return-1;if(Ne("forced"))return 10}function Ne(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function Ki(){if(Fn("reduce"))return!0;if(Fn("no-preference"))return!1}function Fn(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ea(){if(An("reduce"))return!0;if(An("no-preference"))return!1}function An(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function ta(){if(Mn("high"))return!0;if(Mn("standard"))return!1}function Mn(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var T=Math,z=function(){return 0};function na(){var e=T.acos||z,t=T.acosh||z,n=T.asin||z,r=T.asinh||z,o=T.atanh||z,i=T.atan||z,a=T.sin||z,l=T.sinh||z,s=T.cos||z,c=T.cosh||z,u=T.tan||z,f=T.tanh||z,d=T.exp||z,g=T.expm1||z,v=T.log1p||z,p=function(S){return T.pow(T.PI,S)},y=function(S){return T.log(S+T.sqrt(S*S-1))},_=function(S){return T.log(S+T.sqrt(S*S+1))},w=function(S){return T.log((1+S)/(1-S))/2},k=function(S){return T.exp(S)-1/T.exp(S)/2},F=function(S){return(T.exp(S)+1/T.exp(S))/2},M=function(S){return T.exp(S)-1},Z=function(S){return(T.exp(2*S)-1)/(T.exp(2*S)+1)},A=function(S){return T.log(1+S)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:y(1e154),asin:n(.12312423423423424),asinh:r(1),asinhPf:_(1),atanh:o(.5),atanhPf:w(.5),atan:i(.5),sin:a(-1e300),sinh:l(1),sinhPf:k(1),cos:s(10.000000000123),cosh:c(1),coshPf:F(1),tan:u(-1e300),tanh:f(1),tanhPf:Z(1),exp:d(1),expm1:g(1),expm1Pf:M(1),log1p:v(10),log1pPf:A(10),powPI:p(-100)}}var ra="mmMwWLliI0fiflO&1",Ft={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function oa(){return ia(function(e,t){for(var n={},r={},o=0,i=Object.keys(Ft);o<i.length;o++){var a=i[o],l=Ft[a],s=l[0],c=s===void 0?{}:s,u=l[1],f=u===void 0?ra:u,d=e.createElement("span");d.textContent=f,d.style.whiteSpace="nowrap";for(var g=0,v=Object.keys(c);g<v.length;g++){var p=v[g],y=c[p];y!==void 0&&(d.style[p]=y)}n[a]=d,t.append(e.createElement("br"),d)}for(var _=0,w=Object.keys(Ft);_<w.length;_++){var a=w[_];r[a]=n[a].getBoundingClientRect().width}return r})}function ia(e,t){return t===void 0&&(t=4e3),gr(function(n,r){var o=r.document,i=o.body,a=i.style;a.width="".concat(t,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",et()?i.style.zoom="".concat(1/r.devicePixelRatio):se()&&(i.style.zoom="reset");var l=o.createElement("div");return l.textContent=fr([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),i.appendChild(l),e(o,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function aa(){return navigator.pdfViewerEnabled}function sa(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function la(){var e=window.ApplePaySession;if(typeof(e==null?void 0:e.canMakePayments)!="function")return-1;if(ca())return-3;try{return e.canMakePayments()?1:0}catch(t){return ua(t)}}var ca=oi;function ua(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function fa(){var e,t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var br=-1,yr=-2,da=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),ma=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),ha=["FRAGMENT_SHADER","VERTEX_SHADER"],va=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],_r="WEBGL_debug_renderer_info",pa="WEBGL_polygon_mode";function ga(e){var t,n,r,o,i,a,l=e.cache,s=wr(l);if(!s)return br;if(!Sr(s))return yr;var c=kr()?null:s.getExtension(_r);return{version:((t=s.getParameter(s.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=s.getParameter(s.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:c?(r=s.getParameter(c.UNMASKED_VENDOR_WEBGL))===null||r===void 0?void 0:r.toString():"",renderer:((o=s.getParameter(s.RENDERER))===null||o===void 0?void 0:o.toString())||"",rendererUnmasked:c?(i=s.getParameter(c.UNMASKED_RENDERER_WEBGL))===null||i===void 0?void 0:i.toString():"",shadingLanguageVersion:((a=s.getParameter(s.SHADING_LANGUAGE_VERSION))===null||a===void 0?void 0:a.toString())||""}}function ba(e){var t=e.cache,n=wr(t);if(!n)return br;if(!Sr(n))return yr;var r=n.getSupportedExtensions(),o=n.getContextAttributes(),i=[],a=[],l=[],s=[],c=[];if(o)for(var u=0,f=Object.keys(o);u<f.length;u++){var d=f[u];a.push("".concat(d,"=").concat(o[d]))}for(var g=Vn(n),v=0,p=g;v<p.length;v++){var y=p[v],_=n[y];l.push("".concat(y,"=").concat(_).concat(da.has(_)?"=".concat(n.getParameter(_)):""))}if(r)for(var w=0,k=r;w<k.length;w++){var F=k[w];if(!(F===_r&&kr()||F===pa&&wa())){var M=n.getExtension(F);if(!M){i.push(F);continue}for(var Z=0,A=Vn(M);Z<A.length;Z++){var y=A[Z],_=M[y];s.push("".concat(y,"=").concat(_).concat(ma.has(_)?"=".concat(n.getParameter(_)):""))}}}for(var S=0,L=ha;S<L.length;S++)for(var V=L[S],G=0,O=va;G<O.length;G++){var le=O[G],Xe=ya(n,V,le);c.push("".concat(V,".").concat(le,"=").concat(Xe.join(",")))}return s.sort(),l.sort(),{contextAttributes:a,parameters:l,shaderPrecisions:c,extensions:r,extensionParameters:s,unsupportedExtensions:i}}function wr(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",function(){return n=void 0});for(var r=0,o=["webgl","experimental-webgl"];r<o.length;r++){var i=o[r];try{n=t.getContext(i)}catch{}if(n)break}return e.webgl={context:n},n}function ya(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function Vn(e){var t=Object.keys(e.__proto__);return t.filter(_a)}function _a(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function kr(){return pr()}function wa(){return et()||se()}function Sr(e){return typeof e.getParameter=="function"}function ka(){var e=Ut()||se();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function Sa(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var La={fonts:si,domBlockers:Yi,fontPreferences:oa,audio:qo,screenFrame:Ii,canvas:ci,osCpu:yi,languages:_i,colorDepth:wi,deviceMemory:ki,screenResolution:Si,hardwareConcurrency:xi,timezone:Fi,sessionStorage:Mi,localStorage:Vi,indexedDB:Ti,openDatabase:Wi,cpuClass:Ni,platform:Zi,plugins:li,touchSupport:bi,vendor:ji,vendorFlavors:Gi,cookiesEnabled:Oi,colorGamut:zi,invertedColors:$i,forcedColors:Ji,monochrome:Ui,contrast:Qi,reducedMotion:Ki,reducedTransparency:ea,hdr:ta,math:na,pdfViewerEnabled:aa,architecture:sa,applePay:la,privateClickMeasurement:fa,audioBaseLatency:ka,dateTimeLocale:Sa,webGlBasics:ga,webGlExtensions:ba};function Ca(e){return Oo(La,e,[])}var Ea="$ if upgrade to Pro: https://fpjs.dev/pro";function Pa(e){var t=Ra(e),n=Ia(t);return{score:t,comment:Ea.replace(/\$/g,"".concat(n))}}function Ra(e){if(Ut())return .4;if(se())return qt()&&!(nt()&&tt())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function Ia(e){return hr(.99+.01*e,1e-4)}function xa(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var o=r[n],i=e[o],a="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return t}function Lr(e){return JSON.stringify(e,function(t,n){return n instanceof Error?No(n):n},2)}function Cr(e){return Wo(xa(e))}function Fa(e){var t,n=Pa(e);return{get visitorId(){return t===void 0&&(t=Cr(this.components)),t},set visitorId(r){t=r},confidence:n,components:e,version:dr}}function Aa(e){return e===void 0&&(e=50),Po(e,e*2)}function Ma(e,t){var n=Date.now();return{get:function(r){return ve(this,void 0,void 0,function(){var o,i,a;return pe(this,function(l){switch(l.label){case 0:return o=Date.now(),[4,e()];case 1:return i=l.sent(),a=Fa(i),(t||r!=null&&r.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(a.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(o-n,`
visitorId: `).concat(a.visitorId,`
components: `).concat(Lr(i),"\n```")),[2,a]}})})}}}function Va(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(dr,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function Ta(e){var t;return e===void 0&&(e={}),ve(this,void 0,void 0,function(){var n,r,o;return pe(this,function(i){switch(i.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&Va(),n=e.delayFallback,r=e.debug,[4,Aa(n)];case 1:return i.sent(),o=Ca({cache:{},debug:r}),[2,Ma(o,r)]}})})}var Wa={load:Ta,hashComponents:Cr,componentsToDebugString:Lr};const de={clientId:"book-app",authorizationEndpoint:"http://127.0.0.1:5001/oauth/authorize",tokenEndpoint:"http://127.0.0.1:5001/oauth/token",userInfoEndpoint:"http://127.0.0.1:5001/oauth/me",redirectUri:window.location.origin+"/callback",scope:""},Na=Wa.load();async function Za(){try{return(await(await Na).get()).visitorId}catch(e){throw console.error("Error generating fingerprint:",e),new Error("Unable to generate device fingerprint")}}function ja(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}async function Ga(e){const n=new TextEncoder().encode(e);return await window.crypto.subtle.digest("SHA-256",n)}function Oa(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e){const t=await Ga(e);return Oa(t)}async function Er(){const e=ja(128);localStorage.setItem("codeVerifier",e);const t=await Ha(e);try{const n=await Za();localStorage.setItem("fingerprint",n);const r=new URL(de.authorizationEndpoint);r.searchParams.append("client_id",de.clientId),r.searchParams.append("redirect_uri",de.redirectUri),r.searchParams.append("response_type","code"),r.searchParams.append("scope",de.scope),r.searchParams.append("code_challenge_method","S256"),r.searchParams.append("code_challenge",t),r.searchParams.append("fingerprint",n),window.location.href=r.toString()}catch(n){console.error("Authentication error:",n),alert("Случилась ошибка при генерации отпечка пользователя.")}}async function Ya(e){const t=localStorage.getItem("codeVerifier"),n=localStorage.getItem("fingerprint");if(!t)throw new Error("No code verifier found");if(!n)throw new Error("No device fingerprint found");const r=new URLSearchParams;r.append("client_id",de.clientId),r.append("grant_type","authorization_code"),r.append("code",e),r.append("redirect_uri",de.redirectUri),r.append("code_verifier",t),r.append("fingerprint",n);const o=await fetch(de.tokenEndpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(!o.ok)throw new Error("Failed to exchange code for tokens");return await o.json()}async function Pr(e){const t=await fetch(de.userInfoEndpoint,{headers:{Authorization:`${e.token_type} ${e.access_token}`}});if(!t.ok)throw new Error("Failed to fetch user info");return await t.json()}function Da(e){if(!(e!=null&&e.access_token))return!0;try{const t=JSON.parse(atob(e.access_token.split(".")[1]));return Date.now()>=t.exp*1e3}catch{return!0}}async function Xa(e){const t=localStorage.getItem("fingerprint");if(!t)throw new Error("No device fingerprint found");const n=new URLSearchParams;n.append("client_id",de.clientId),n.append("grant_type","refresh_token"),n.append("refresh_token",e),n.append("fingerprint",t);const r=await fetch(de.tokenEndpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!r.ok)throw new Error("Failed to refresh token");return await r.json()}const Qt="/api";async function Ba(){try{const e=await fetch(`${Qt}/books`);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching popular books:",e),[]}}async function za(e){try{const t=await fetch(`${Qt}/books/${e}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error(`Error fetching book details for ID ${e}:`,t),null}}async function $a(e){try{const t=await fetch(`${Qt}/search?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error("Error searching books:",t),[]}}function Ja(e){let t,n,r,o,i,a,l,s,c=e[0].title+"",u,f,d,g;return{c(){t=b("a"),n=b("div"),r=b("img"),a=R(),l=b("div"),s=b("h3"),u=Y(c),ke(r.src,o=e[0].cover)||h(r,"src",o),h(r,"alt",i=e[0].title),h(r,"class","svelte-1ecpjwk"),h(n,"class","book-cover svelte-1ecpjwk"),h(s,"class","book-title svelte-1ecpjwk"),h(l,"class","book-info svelte-1ecpjwk"),h(t,"href",f=`/book/${e[0].id}`),h(t,"class","book-card svelte-1ecpjwk")},m(v,p){x(v,t,p),m(t,n),m(n,r),m(t,a),m(t,l),m(l,s),m(s,u),d||(g=ee(ne.call(null,t)),d=!0)},p(v,[p]){p&1&&!ke(r.src,o=v[0].cover)&&h(r,"src",o),p&1&&i!==(i=v[0].title)&&h(r,"alt",i),p&1&&c!==(c=v[0].title+"")&&te(u,c),p&1&&f!==(f=`/book/${v[0].id}`)&&h(t,"href",f)},i:E,o:E,d(v){v&&I(t),d=!1,g()}}}function qa(e,t,n){let{book:r}=t;return e.$$set=o=>{"book"in o&&n(0,r=o.book)},[r]}class Ua extends he{constructor(t){super(),me(this,t,qa,Ja,re,{book:0})}}function Tn(e,t,n){const r=e.slice();return r[3]=t[n],r}function Qa(e){let t,n=[],r=new Map,o,i=ce(e[0]);const a=l=>l[3].id;for(let l=0;l<i.length;l+=1){let s=Tn(e,i,l),c=a(s);r.set(c,n[l]=Wn(c,s))}return{c(){t=b("div");for(let l=0;l<n.length;l+=1)n[l].c();h(t,"class","books-grid svelte-r2d3ln")},m(l,s){x(l,t,s);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);o=!0},p(l,s){s&1&&(i=ce(l[0]),Se(),n=zr(n,s,a,1,l,i,r,t,Br,Wn,null,Tn),Le())},i(l){if(!o){for(let s=0;s<i.length;s+=1)W(n[s]);o=!0}},o(l){for(let s=0;s<n.length;s+=1)N(n[s]);o=!1},d(l){l&&I(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Ka(e){let t;return{c(){t=b("div"),t.textContent="Книги не найдены",h(t,"class","no-results svelte-r2d3ln")},m(n,r){x(n,t,r)},p:E,i:E,o:E,d(n){n&&I(t)}}}function es(e){let t;return{c(){t=b("div"),t.textContent="Произошла ошибка при загрузке данных",h(t,"class","error svelte-r2d3ln")},m(n,r){x(n,t,r)},p:E,i:E,o:E,d(n){n&&I(t)}}}function ts(e){let t;return{c(){t=b("div"),t.textContent="Загрузка...",h(t,"class","loading svelte-r2d3ln")},m(n,r){x(n,t,r)},p:E,i:E,o:E,d(n){n&&I(t)}}}function Wn(e,t){let n,r,o;return r=new Ua({props:{book:t[3]}}),{key:e,first:null,c(){n=Ee(),ue(r.$$.fragment),this.first=n},m(i,a){x(i,n,a),ie(r,i,a),o=!0},p(i,a){t=i;const l={};a&1&&(l.book=t[3]),r.$set(l)},i(i){o||(W(r.$$.fragment,i),o=!0)},o(i){N(r.$$.fragment,i),o=!1},d(i){i&&I(n),ae(r,i)}}}function ns(e){let t,n,r,o,i,a;const l=[ts,es,Ka,Qa],s=[];function c(u,f){return u[1]?0:u[2]?1:u[0].length===0?2:3}return o=c(e),i=s[o]=l[o](e),{c(){t=b("div"),n=b("h2"),n.textContent="Популярные книги",r=R(),i.c(),h(n,"class","section-title svelte-r2d3ln"),h(t,"class","container svelte-r2d3ln")},m(u,f){x(u,t,f),m(t,n),m(t,r),s[o].m(t,null),a=!0},p(u,[f]){let d=o;o=c(u),o===d?s[o].p(u,f):(Se(),N(s[d],1,1,()=>{s[d]=null}),Le(),i=s[o],i?i.p(u,f):(i=s[o]=l[o](u),i.c()),W(i,1),i.m(t,null))},i(u){a||(W(i),a=!0)},o(u){N(i),a=!1},d(u){u&&I(t),s[o].d()}}}function rs(e,t,n){let r=[],o=!0,i=!1;return De(async()=>{try{n(0,r=await Ba()),n(1,o=!1)}catch{n(2,i=!0),n(1,o=!1)}}),[r,o,i]}class os extends he{constructor(t){super(),me(this,t,rs,ns,re,{})}}function Nn(e,t,n){const r=e.slice();return r[7]=t[n],r}function Zn(e,t,n){const r=e.slice();return r[10]=t[n],r}function jn(e,t,n){const r=e.slice();return r[13]=t[n],r}function is(e){let t,n,r,o,i,a,l,s,c,u=e[0].title+"",f,d,g,v,p,y,_,w=e[0].status.name+"",k,F,M,Z,A,S,L,V,G,O,le,Xe,Pe,rt,Kt,Be,en,Re,ze,ot=e[0].chapters_count+"",wt,tn,nn,it,kt,Ce,at,rn,st,lt=e[0].description+"",St,J=e[3]&&Gn(e),Ie=ce(e[0].authors),D=[];for(let C=0;C<Ie.length;C+=1)D[C]=On(jn(e,Ie,C));let xe=ce(e[0].genres),X=[];for(let C=0;C<xe.length;C+=1)X[C]=Hn(Zn(e,xe,C));let Fe=ce(e[0].tags),B=[];for(let C=0;C<Fe.length;C+=1)B[C]=Yn(Nn(e,Fe,C));return{c(){J&&J.c(),t=R(),n=b("div"),r=b("div"),o=b("img"),l=R(),s=b("div"),c=b("h1"),f=Y(u),d=R(),g=b("div"),v=b("div"),p=b("span"),p.textContent="Статус:",y=R(),_=b("span"),k=Y(w),F=R(),M=b("div"),Z=b("span"),Z.textContent="Авторы:",A=R(),S=b("div");for(let C=0;C<D.length;C+=1)D[C].c();L=R(),V=b("div"),G=b("span"),G.textContent="Жанры:",O=R(),le=b("div");for(let C=0;C<X.length;C+=1)X[C].c();Xe=R(),Pe=b("div"),rt=b("span"),rt.textContent="Теги:",Kt=R(),Be=b("div");for(let C=0;C<B.length;C+=1)B[C].c();en=R(),Re=b("div"),ze=b("span"),wt=Y(ot),tn=Y(" глав"),nn=R(),it=b("button"),it.textContent="Читать",kt=R(),Ce=b("div"),at=b("h2"),at.textContent="Описание",rn=R(),st=b("div"),St=Y(lt),ke(o.src,i=e[0].cover)||h(o,"src",i),h(o,"alt",a=e[0].title),h(o,"class","svelte-q01eq8"),h(r,"class","book-cover svelte-q01eq8"),h(c,"class","book-title svelte-q01eq8"),h(p,"class","meta-label svelte-q01eq8"),h(_,"class","meta-value"),h(v,"class","meta-item svelte-q01eq8"),h(Z,"class","meta-label svelte-q01eq8"),h(S,"class","meta-list svelte-q01eq8"),h(M,"class","meta-item svelte-q01eq8"),h(G,"class","meta-label svelte-q01eq8"),h(le,"class","meta-list svelte-q01eq8"),h(V,"class","meta-item svelte-q01eq8"),h(rt,"class","meta-label svelte-q01eq8"),h(Be,"class","meta-list svelte-q01eq8"),h(Pe,"class","meta-item svelte-q01eq8"),h(g,"class","book-meta svelte-q01eq8"),h(ze,"class","chapters-count svelte-q01eq8"),h(it,"class","read-button svelte-q01eq8"),h(Re,"class","book-chapters svelte-q01eq8"),h(s,"class","book-info svelte-q01eq8"),h(n,"class","book-header svelte-q01eq8"),h(at,"class","section-title svelte-q01eq8"),h(st,"class","description-text svelte-q01eq8"),h(Ce,"class","book-description svelte-q01eq8")},m(C,H){J&&J.m(C,H),x(C,t,H),x(C,n,H),m(n,r),m(r,o),m(n,l),m(n,s),m(s,c),m(c,f),m(s,d),m(s,g),m(g,v),m(v,p),m(v,y),m(v,_),m(_,k),m(g,F),m(g,M),m(M,Z),m(M,A),m(M,S);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(S,null);m(g,L),m(g,V),m(V,G),m(V,O),m(V,le);for(let P=0;P<X.length;P+=1)X[P]&&X[P].m(le,null);m(g,Xe),m(g,Pe),m(Pe,rt),m(Pe,Kt),m(Pe,Be);for(let P=0;P<B.length;P+=1)B[P]&&B[P].m(Be,null);m(s,en),m(s,Re),m(Re,ze),m(ze,wt),m(ze,tn),m(Re,nn),m(Re,it),x(C,kt,H),x(C,Ce,H),m(Ce,at),m(Ce,rn),m(Ce,st),m(st,St)},p(C,H){if(C[3]?J?J.p(C,H):(J=Gn(C),J.c(),J.m(t.parentNode,t)):J&&(J.d(1),J=null),H&1&&!ke(o.src,i=C[0].cover)&&h(o,"src",i),H&1&&a!==(a=C[0].title)&&h(o,"alt",a),H&1&&u!==(u=C[0].title+"")&&te(f,u),H&1&&w!==(w=C[0].status.name+"")&&te(k,w),H&1){Ie=ce(C[0].authors);let P;for(P=0;P<Ie.length;P+=1){const ye=jn(C,Ie,P);D[P]?D[P].p(ye,H):(D[P]=On(ye),D[P].c(),D[P].m(S,null))}for(;P<D.length;P+=1)D[P].d(1);D.length=Ie.length}if(H&1){xe=ce(C[0].genres);let P;for(P=0;P<xe.length;P+=1){const ye=Zn(C,xe,P);X[P]?X[P].p(ye,H):(X[P]=Hn(ye),X[P].c(),X[P].m(le,null))}for(;P<X.length;P+=1)X[P].d(1);X.length=xe.length}if(H&1){Fe=ce(C[0].tags);let P;for(P=0;P<Fe.length;P+=1){const ye=Nn(C,Fe,P);B[P]?B[P].p(ye,H):(B[P]=Yn(ye),B[P].c(),B[P].m(Be,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=Fe.length}H&1&&ot!==(ot=C[0].chapters_count+"")&&te(wt,ot),H&1&&lt!==(lt=C[0].description+"")&&te(St,lt)},d(C){C&&(I(t),I(n),I(kt),I(Ce)),J&&J.d(C),ht(D,C),ht(X,C),ht(B,C)}}}function as(e){let t;return{c(){t=b("div"),t.textContent="Произошла ошибка при загрузке данных",h(t,"class","error svelte-q01eq8")},m(n,r){x(n,t,r)},p:E,d(n){n&&I(t)}}}function ss(e){let t;return{c(){t=b("div"),t.textContent="Загрузка...",h(t,"class","loading svelte-q01eq8")},m(n,r){x(n,t,r)},p:E,d(n){n&&I(t)}}}function Gn(e){let t,n,r,o,i,a,l,s,c;return{c(){t=b("div"),n=b("h3"),n.textContent="Управление книгой",r=R(),o=b("div"),i=b("a"),a=Y("Редактировать книгу"),s=R(),c=b("button"),c.textContent="Удалить книгу",h(n,"class","admin-heading"),h(i,"href",l=`/admin/edit-book/${e[0].id}`),h(i,"class","admin-button edit-btn"),h(c,"class","admin-button delete-btn"),h(o,"class","admin-buttons"),h(t,"class","admin-controls")},m(u,f){x(u,t,f),m(t,n),m(t,r),m(t,o),m(o,i),m(i,a),m(o,s),m(o,c)},p(u,f){f&1&&l!==(l=`/admin/edit-book/${u[0].id}`)&&h(i,"href",l)},d(u){u&&I(t)}}}function On(e){let t,n=e[13].name+"",r;return{c(){t=b("span"),r=Y(n),h(t,"class","meta-tag svelte-q01eq8")},m(o,i){x(o,t,i),m(t,r)},p(o,i){i&1&&n!==(n=o[13].name+"")&&te(r,n)},d(o){o&&I(t)}}}function Hn(e){let t,n=e[10].name+"",r;return{c(){t=b("span"),r=Y(n),h(t,"class","meta-tag svelte-q01eq8")},m(o,i){x(o,t,i),m(t,r)},p(o,i){i&1&&n!==(n=o[10].name+"")&&te(r,n)},d(o){o&&I(t)}}}function Yn(e){let t,n=e[7].name+"",r;return{c(){t=b("span"),r=Y(n),h(t,"class","meta-tag svelte-q01eq8")},m(o,i){x(o,t,i),m(t,r)},p(o,i){i&1&&n!==(n=o[7].name+"")&&te(r,n)},d(o){o&&I(t)}}}function ls(e){let t;function n(i,a){return i[1]?ss:i[2]||!i[0]?as:is}let r=n(e),o=r(e);return{c(){t=b("div"),o.c(),h(t,"class","container svelte-q01eq8")},m(i,a){x(i,t,a),o.m(t,null)},p(i,[a]){r===(r=n(i))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(t,null)))},i:E,o:E,d(i){i&&I(t),o.d()}}}function cs(e,t,n){let{id:r}=t,o=null,i=!0,a=!1,l=!1;const s=K.subscribe(c=>{var u,f;c.user,n(3,l=((f=(u=c.user)==null?void 0:u.roles)==null?void 0:f.includes("admin"))||!1)});return De(async()=>{try{n(0,o=await za(r))}catch{n(2,a=!0)}finally{n(1,i=!1)}return()=>{s()}}),e.$$set=c=>{"id"in c&&n(4,r=c.id)},[o,i,a,l,r]}class us extends he{constructor(t){super(),me(this,t,cs,ls,re,{id:4})}}function Dn(e,t,n){const r=e.slice();return r[21]=t[n],r}function fs(e){let t,n,r;return{c(){t=b("button"),t.textContent="Войти",h(t,"class","auth-button svelte-1m5l7a5")},m(o,i){x(o,t,i),n||(r=fe(t,"click",e[9]),n=!0)},p:E,d(o){o&&I(t),n=!1,r()}}}function ds(e){let t,n,r,o,i=e[7].username+"",a,l,s,c,u,f,d,g,v,p,y,_,w,k=e[7].avatar_url&&Xn(e),F=e[8]&&Bn();return{c(){t=b("div"),n=b("button"),k&&k.c(),r=R(),o=b("span"),a=Y(i),l=R(),s=b("div"),c=b("a"),c.textContent="Профиль",u=R(),f=b("a"),f.textContent="Закладки",d=R(),F&&F.c(),g=R(),v=b("div"),p=R(),y=b("button"),y.textContent="Выйти",h(n,"class","user-button"),h(c,"href","/profile"),h(c,"class","dropdown-item"),h(f,"href","/bookmarks"),h(f,"class","dropdown-item"),h(v,"class","dropdown-divider"),h(y,"class","dropdown-item logout-btn"),h(s,"class","dropdown-menu"),h(t,"class","user-menu")},m(M,Z){x(M,t,Z),m(t,n),k&&k.m(n,null),m(n,r),m(n,o),m(o,a),m(t,l),m(t,s),m(s,c),m(s,u),m(s,f),m(s,d),F&&F.m(s,null),m(s,g),m(s,v),m(s,p),m(s,y),_||(w=[ee(ne.call(null,c)),ee(ne.call(null,f)),fe(y,"click",e[10])],_=!0)},p(M,Z){M[7].avatar_url?k?k.p(M,Z):(k=Xn(M),k.c(),k.m(n,r)):k&&(k.d(1),k=null),Z&128&&i!==(i=M[7].username+"")&&te(a,i),M[8]?F||(F=Bn(),F.c(),F.m(s,g)):F&&(F.d(1),F=null)},d(M){M&&I(t),k&&k.d(),F&&F.d(),_=!1,q(w)}}}function Xn(e){let t,n,r;return{c(){t=b("img"),ke(t.src,n=e[7].avatar_url)||h(t,"src",n),h(t,"alt",r=e[7].username),h(t,"class","avatar")},m(o,i){x(o,t,i)},p(o,i){i&128&&!ke(t.src,n=o[7].avatar_url)&&h(t,"src",n),i&128&&r!==(r=o[7].username)&&h(t,"alt",r)},d(o){o&&I(t)}}}function Bn(e){let t,n,r,o,i,a,l;return{c(){t=b("div"),n=R(),r=b("a"),r.textContent="Управление книгами",o=R(),i=b("a"),i.textContent="Управление пользователями",h(t,"class","dropdown-divider"),h(r,"href","/admin/books"),h(r,"class","dropdown-item admin-item"),h(i,"href","/admin/users"),h(i,"class","dropdown-item admin-item")},m(s,c){x(s,t,c),x(s,n,c),x(s,r,c),x(s,o,c),x(s,i,c),a||(l=[ee(ne.call(null,r)),ee(ne.call(null,i))],a=!0)},d(s){s&&(I(t),I(n),I(r),I(o),I(i)),a=!1,q(l)}}}function zn(e){let t,n,r,o,i,a,l,s,c,u,f,d,g,v=e[2]&&e[1].length>0&&$n(e);return{c(){t=b("div"),n=b("div"),r=b("div"),o=b("div"),i=b("input"),a=R(),l=b("div"),s=b("button"),s.textContent="Книги",c=R(),u=b("button"),u.textContent="Авторы",f=R(),v&&v.c(),h(i,"type","text"),h(i,"class","search-input svelte-1m5l7a5"),h(i,"placeholder","Поиск..."),h(o,"class","search-bar svelte-1m5l7a5"),h(s,"class","search-type-tab svelte-1m5l7a5"),Ae(s,"active",e[4]==="books"),h(u,"class","search-type-tab svelte-1m5l7a5"),Ae(u,"active",e[4]==="authors"),h(l,"class","search-types svelte-1m5l7a5"),h(r,"class","search-container svelte-1m5l7a5"),h(n,"class","search-overlay svelte-1m5l7a5"),Ae(n,"closing",e[5]),h(t,"class","search-overlay-wrapper svelte-1m5l7a5")},m(p,y){x(p,t,y),m(t,n),m(n,r),m(r,o),m(o,i),ln(i,e[0]),m(r,a),m(r,l),m(l,s),m(l,c),m(l,u),m(r,f),v&&v.m(r,null),e[16](r),d||(g=[fe(i,"input",e[13]),fe(i,"input",e[11]),fe(s,"click",e[14]),fe(u,"click",e[15])],d=!0)},p(p,y){y&1&&i.value!==p[0]&&ln(i,p[0]),y&16&&Ae(s,"active",p[4]==="books"),y&16&&Ae(u,"active",p[4]==="authors"),p[2]&&p[1].length>0?v?v.p(p,y):(v=$n(p),v.c(),v.m(r,null)):v&&(v.d(1),v=null),y&32&&Ae(n,"closing",p[5])},d(p){p&&I(t),v&&v.d(),e[16](null),d=!1,q(g)}}}function $n(e){let t,n=ce(e[1]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Jn(Dn(e,n,o));return{c(){t=b("div");for(let o=0;o<r.length;o+=1)r[o].c();h(t,"class","search-results svelte-1m5l7a5")},m(o,i){x(o,t,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(o,i){if(i&4098){n=ce(o[1]);let a;for(a=0;a<n.length;a+=1){const l=Dn(o,n,a);r[a]?r[a].p(l,i):(r[a]=Jn(l),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(o){o&&I(t),ht(r,o)}}}function Jn(e){let t,n,r,o,i,a,l,s=e[21].title+"",c,u,f,d=e[21].status+"",g,v,p,y,_;return{c(){t=b("a"),n=b("img"),i=R(),a=b("div"),l=b("div"),c=Y(s),u=R(),f=b("div"),g=Y(d),v=R(),ke(n.src,r=e[21].cover)||h(n,"src",r),h(n,"alt",o=e[21].title),h(n,"class","result-cover svelte-1m5l7a5"),h(l,"class","result-title svelte-1m5l7a5"),h(f,"class","result-status svelte-1m5l7a5"),h(a,"class","result-info svelte-1m5l7a5"),h(t,"href",p=`/book/${e[21].id}`),h(t,"class","search-result-item svelte-1m5l7a5")},m(w,k){x(w,t,k),m(t,n),m(t,i),m(t,a),m(a,l),m(l,c),m(a,u),m(a,f),m(f,g),m(t,v),y||(_=[ee(ne.call(null,t)),fe(t,"click",e[12])],y=!0)},p(w,k){k&2&&!ke(n.src,r=w[21].cover)&&h(n,"src",r),k&2&&o!==(o=w[21].title)&&h(n,"alt",o),k&2&&s!==(s=w[21].title+"")&&te(c,s),k&2&&d!==(d=w[21].status+"")&&te(g,d),k&2&&p!==(p=`/book/${w[21].id}`)&&h(t,"href",p)},d(w){w&&I(t),y=!1,q(_)}}}function ms(e){let t,n,r,o,i,a,l,s,c,u,f,d,g;function v(w,k){return w[7]?ds:fs}let p=v(e),y=p(e),_=e[3]&&zn(e);return{c(){t=b("header"),n=b("div"),r=b("a"),r.textContent="BooksLib",o=R(),i=b("nav"),a=b("a"),a.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                Каталог`,l=R(),s=b("button"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                Поиск`,c=R(),u=b("div"),y.c(),f=R(),_&&_.c(),h(r,"href","/"),h(r,"class","logo svelte-1m5l7a5"),h(a,"href","/catalog"),h(a,"class","nav-link svelte-1m5l7a5"),h(s,"class","nav-link search-btn svelte-1m5l7a5"),h(i,"class","svelte-1m5l7a5"),h(u,"class","auth-section svelte-1m5l7a5"),h(n,"class","container svelte-1m5l7a5"),h(t,"class","svelte-1m5l7a5")},m(w,k){x(w,t,k),m(t,n),m(n,r),m(n,o),m(n,i),m(i,a),m(i,l),m(i,s),m(n,c),m(n,u),y.m(u,null),m(t,f),_&&_.m(t,null),d||(g=[ee(ne.call(null,r)),ee(ne.call(null,a)),fe(s,"click",e[12])],d=!0)},p(w,[k]){p===(p=v(w))&&y?y.p(w,k):(y.d(1),y=p(w),y&&(y.c(),y.m(u,null))),w[3]?_?_.p(w,k):(_=zn(w),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i:E,o:E,d(w){w&&I(t),y.d(),_&&_.d(),d=!1,q(g)}}}function hs(e,t,n){let r="",o=[],i=!1,a,l=!1,s="books",c=!1,u,f=null,d=!1;const g=K.subscribe(S=>{var L,V;n(7,f=S.user),n(8,d=((V=(L=S.user)==null?void 0:L.roles)==null?void 0:V.includes("admin"))||!1)});function v(){Er()}function p(){K.logout()}ir(()=>{g()}),De(()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}));function y(S){l&&u&&!u.contains(S.target)&&k()}async function _(){if(r.length<2){n(1,o=[]),n(2,i=!1);return}clearTimeout(a),a=setTimeout(async()=>{n(1,o=await $a(r)),n(2,i=!0)},300)}function w(){l?k():(n(3,l=!0),setTimeout(()=>{var S;(S=document.querySelector(".search-input"))==null||S.focus()},100))}function k(){n(5,c=!0),setTimeout(()=>{n(3,l=!1),n(5,c=!1),n(0,r=""),n(1,o=[]),n(2,i=!1)},300)}function F(){r=this.value,n(0,r)}const M=()=>n(4,s="books"),Z=()=>n(4,s="authors");function A(S){Vt[S?"unshift":"push"](()=>{u=S,n(6,u)})}return[r,o,i,l,s,c,u,f,d,v,p,_,w,F,M,Z,A]}class vs extends he{constructor(t){super(),me(this,t,hs,ms,re,{})}}function ps(e){let t,n,r,o,i,a,l,s,c,u,f,d,g,v;return{c(){t=b("footer"),n=b("div"),r=b("div"),o=b("a"),o.textContent="О нас",i=R(),a=b("a"),a.textContent="Правила",l=R(),s=b("a"),s.textContent="Контакты",c=R(),u=b("a"),u.textContent="Помощь",f=R(),d=b("div"),d.textContent=`© ${new Date().getFullYear()} BooksLib. Все права защищены.`,h(o,"href","/about"),h(o,"class","footer-link svelte-1p54648"),h(a,"href","/rules"),h(a,"class","footer-link svelte-1p54648"),h(s,"href","/contacts"),h(s,"class","footer-link svelte-1p54648"),h(u,"href","/help"),h(u,"class","footer-link svelte-1p54648"),h(r,"class","footer-links svelte-1p54648"),h(d,"class","copyright svelte-1p54648"),h(n,"class","container svelte-1p54648"),h(t,"class","svelte-1p54648")},m(p,y){x(p,t,y),m(t,n),m(n,r),m(r,o),m(r,i),m(r,a),m(r,l),m(r,s),m(r,c),m(r,u),m(n,f),m(n,d),g||(v=[ee(ne.call(null,o)),ee(ne.call(null,a)),ee(ne.call(null,s)),ee(ne.call(null,u))],g=!0)},p:E,i:E,o:E,d(p){p&&I(t),g=!1,q(v)}}}class gs extends he{constructor(t){super(),me(this,t,null,ps,re,{})}}function bs(e){let t;return{c(){t=b("div"),t.innerHTML='<h2>Авторизация...</h2> <div class="spinner svelte-9tsot9"></div> <p>Пожалуйста, подождите пока мы завершим процесс аутентификации.</p>',h(t,"class","loading svelte-9tsot9")},m(n,r){x(n,t,r)},p:E,d(n){n&&I(t)}}}function ys(e){let t,n,r,o,i,a,l,s,c;return{c(){t=b("div"),n=b("h2"),n.textContent="Ошибка аутентификации",r=R(),o=b("p"),i=Y(e[0]),a=R(),l=b("button"),l.textContent="Вернуться на главную",h(l,"class","svelte-9tsot9"),h(t,"class","error-message svelte-9tsot9")},m(u,f){x(u,t,f),m(t,n),m(t,r),m(t,o),m(o,i),m(t,a),m(t,l),s||(c=fe(l,"click",e[1]),s=!0)},p(u,f){f&1&&te(i,u[0])},d(u){u&&I(t),s=!1,c()}}}function _s(e){let t,n;function r(a,l){return a[0]?ys:bs}let o=r(e),i=o(e);return{c(){t=b("div"),n=b("div"),i.c(),h(n,"class","auth-callback svelte-9tsot9"),h(t,"class","container svelte-9tsot9")},m(a,l){x(a,t,l),m(t,n),i.m(n,null)},p(a,[l]){o===(o=r(a))&&i?i.p(a,l):(i.d(1),i=o(a),i&&(i.c(),i.m(n,null)))},i:E,o:E,d(a){a&&I(t),i.d()}}}function ws(e,t,n){let r="";return De(async()=>{const i=new URLSearchParams(window.location.search),a=i.get("code");if(a)try{const l=await Ya(a);K.setTokens(l.access_token,l.refresh_token,l.token_type);const s=await Pr(l);K.setUser(s),Zt("/")}catch(l){console.error("Auth error:",l),n(0,r="Authentication failed. Please try again.")}else i.get("error")?n(0,r=i.get("error_description")||"Authentication failed"):n(0,r="Invalid callback URL")}),[r,()=>Zt("/")]}class ks extends he{constructor(t){super(),me(this,t,ws,_s,re,{})}}function Ss(e){let t,n,r,o,i,a,l,s,c,u,f;return{c(){t=b("div"),n=b("div"),r=b("h1"),r.textContent="Вход в систему",o=R(),i=b("p"),i.textContent="Для доступа к расширенным функциям библиотеки, пожалуйста, войдите в свой аккаунт.",a=R(),l=b("button"),l.textContent="Войти через OAuth сервис",s=R(),c=b("p"),c.textContent="Вы будете перенаправлены на страницу авторизации нашего сервиса.",h(l,"class","login-button"),h(c,"class","login-info"),h(n,"class","login-container"),h(t,"class","container")},m(d,g){x(d,t,g),m(t,n),m(n,r),m(n,o),m(n,i),m(n,a),m(n,l),m(n,s),m(n,c),u||(f=fe(l,"click",e[0]),u=!0)},p:E,i:E,o:E,d(d){d&&I(t),u=!1,f()}}}function Ls(e){function t(){Er()}return[t]}class Cs extends he{constructor(t){super(),me(this,t,Ls,Ss,re,{})}}function Es(e){let t,n,r,o,i,a,l,s,c,u,f,d,g,v;return n=new vs({}),i=new ft({props:{path:"/",component:os}}),l=new ft({props:{path:"/book/:id",component:us}}),c=new ft({props:{path:"/login",component:Cs}}),f=new ft({props:{path:"/callback",component:ks}}),g=new gs({}),{c(){t=b("div"),ue(n.$$.fragment),r=R(),o=b("main"),ue(i.$$.fragment),a=R(),ue(l.$$.fragment),s=R(),ue(c.$$.fragment),u=R(),ue(f.$$.fragment),d=R(),ue(g.$$.fragment),h(o,"class","svelte-1vjgzv3"),h(t,"class","app svelte-1vjgzv3")},m(p,y){x(p,t,y),ie(n,t,null),m(t,r),m(t,o),ie(i,o,null),m(o,a),ie(l,o,null),m(o,s),ie(c,o,null),m(o,u),ie(f,o,null),m(t,d),ie(g,t,null),v=!0},p:E,i(p){v||(W(n.$$.fragment,p),W(i.$$.fragment,p),W(l.$$.fragment,p),W(c.$$.fragment,p),W(f.$$.fragment,p),W(g.$$.fragment,p),v=!0)},o(p){N(n.$$.fragment,p),N(i.$$.fragment,p),N(l.$$.fragment,p),N(c.$$.fragment,p),N(f.$$.fragment,p),N(g.$$.fragment,p),v=!1},d(p){p&&I(t),ae(n),ae(i),ae(l),ae(c),ae(f),ae(g)}}}function Ps(e){let t,n;return t=new Lo({props:{url:e[0],$$slots:{default:[Es]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment)},m(r,o){ie(t,r,o),n=!0},p(r,[o]){const i={};o&1&&(i.url=r[0]),o&4&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(W(t.$$.fragment,r),n=!0)},o(r){N(t.$$.fragment,r),n=!1},d(r){ae(t,r)}}}function Rs(e,t,n){let{url:r=""}=t;De(()=>{K.initialize(),K.subscribe(i=>{i.token&&Da(i.token)&&o(i.token.refresh_token)})});async function o(i){try{const a=await Xa(i);K.setTokens(a.access_token,a.refresh_token,a.token_type);const l=await Pr(a);K.setUser(l)}catch(a){console.error("Failed to refresh token:",a),K.logout()}}return e.$$set=i=>{"url"in i&&n(0,r=i.url)},[r]}class Is extends he{constructor(t){super(),me(this,t,Rs,Ps,re,{url:0})}}new Is({target:document.body});
