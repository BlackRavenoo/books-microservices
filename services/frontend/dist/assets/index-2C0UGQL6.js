var Rr=Object.defineProperty;var Ir=(e,t,n)=>t in e?Rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lt=(e,t,n)=>Ir(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function E(){}const Jn=e=>e;function Je(e,t){for(const n in t)e[n]=t[n];return e}function xr(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Un(e){return e()}function on(){return Object.create(null)}function J(e){e.forEach(Un)}function He(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ct;function Se(e,t){return e===t?!0:(ct||(ct=document.createElement("a")),ct.href=t,e===ct.href)}function Mr(e){return Object.keys(e).length===0}function qt(e,...t){if(e==null){for(const r of t)r(void 0);return E}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function an(e){let t;return qt(e,n=>t=n)(),t}function $e(e,t,n){e.$$.on_destroy.push(qt(t,n))}function Ht(e,t,n,r){if(e){const o=Qn(e,t,n,r);return e[0](o)}}function Qn(e,t,n,r){return e[1]&&r?Je(n.ctx.slice(),e[1](r(t))):n.ctx}function Yt(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(t.dirty.length,o.length);for(let l=0;l<a;l+=1)i[l]=t.dirty[l]|o[l];return i}return t.dirty|o}return t.dirty}function Dt(e,t,n,r,o,i){if(o){const a=Qn(t,n,r,i);e.p(a,o)}}function Bt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function sn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function te(e){return e&&He(e.destroy)?e.destroy:E}const Kn=typeof window<"u";let er=Kn?()=>window.performance.now():()=>Date.now(),Xt=Kn?e=>requestAnimationFrame(e):E;const Ge=new Set;function tr(e){Ge.forEach(t=>{t.c(e)||(Ge.delete(t),t.f())}),Ge.size!==0&&Xt(tr)}function nr(e){let t;return Ge.size===0&&Xt(tr),{promise:new Promise(n=>{Ge.add(t={c:e,f:n})}),abort(){Ge.delete(t)}}}function h(e,t){e.appendChild(t)}function rr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Fr(e){const t=b("style");return t.textContent="/* empty */",Ar(rr(e),t),t.sheet}function Ar(e,t){return h(e.head||e,t),t.sheet}function M(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function ht(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function ln(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function H(e){return document.createTextNode(e)}function I(){return H(" ")}function Pe(){return H("")}function se(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Vr(e){return Array.from(e.childNodes)}function Q(e,t){t=""+t,e.data!==t&&(e.data=t)}function cn(e,t){e.value=t??""}function we(e,t,n){e.classList.toggle(t,!!n)}function Tr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function un(e,t){return new e(t)}const gt=new Map;let bt=0;function Wr(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Nr(e,t){const n={stylesheet:Fr(t),rules:{}};return gt.set(e,n),n}function or(e,t,n,r,o,i,a,l=0){const s=16.666/r;let c=`{
`;for(let y=0;y<=1;y+=s){const _=t+(n-t)*i(y);c+=y*100+`%{${a(_,1-_)}}
`}const f=c+`100% {${a(n,1-n)}}
}`,u=`__svelte_${Wr(f)}_${l}`,m=rr(e),{stylesheet:g,rules:v}=gt.get(m)||Nr(m,e);v[u]||(v[u]=!0,g.insertRule(`@keyframes ${u} ${f}`,g.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${u} ${r}ms linear ${o}ms 1 both`,bt+=1,u}function Ft(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),bt-=o,bt||Zr())}function Zr(){Xt(()=>{bt||(gt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&x(t)}),gt.clear())})}let Ue;function be(e){Ue=e}function Ke(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function Ye(e){Ke().$$.on_mount.push(e)}function ir(e){Ke().$$.on_destroy.push(e)}function Ct(e,t){return Ke().$$.context.set(e,t),t}function At(e){return Ke().$$.context.get(e)}const Ze=[],Vt=[];let Oe=[];const fn=[],jr=Promise.resolve();let Tt=!1;function Gr(){Tt||(Tt=!0,jr.then(zt))}function qe(e){Oe.push(e)}const Et=new Set;let Ae=0;function zt(){if(Ae!==0)return;const e=Ue;do{try{for(;Ae<Ze.length;){const t=Ze[Ae];Ae++,be(t),Or(t.$$)}}catch(t){throw Ze.length=0,Ae=0,t}for(be(null),Ze.length=0,Ae=0;Vt.length;)Vt.pop()();for(let t=0;t<Oe.length;t+=1){const n=Oe[t];Et.has(n)||(Et.add(n),n())}Oe.length=0}while(Ze.length);for(;fn.length;)fn.pop()();Tt=!1,Et.clear(),be(e)}function Or(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qe)}}function qr(e){const t=[],n=[];Oe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Oe=t}let ze;function ar(){return ze||(ze=Promise.resolve(),ze.then(()=>{ze=null})),ze}function yt(e,t,n){e.dispatchEvent(Tr(`${t?"intro":"outro"}${n}`))}const vt=new Set;let ke;function Le(){ke={r:0,c:[],p:ke}}function Ce(){ke.r||J(ke.c),ke=ke.p}function W(e,t){e&&e.i&&(vt.delete(e),e.i(t))}function N(e,t,n,r){if(e&&e.o){if(vt.has(e))return;vt.add(e),ke.c.push(()=>{vt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const sr={duration:0};function Hr(e,t,n){const r={direction:"in"};let o=t(e,n,r),i=!1,a,l,s=0;function c(){a&&Ft(e,a)}function f(){const{delay:m=0,duration:g=300,easing:v=Jn,tick:p=E,css:y}=o||sr;y&&(a=or(e,0,1,g,m,v,y,s++)),p(0,1);const _=er()+m,k=_+g;l&&l.abort(),i=!0,qe(()=>yt(e,!0,"start")),l=nr(L=>{if(i){if(L>=k)return p(1,0),yt(e,!0,"end"),c(),i=!1;if(L>=_){const V=v((L-_)/g);p(V,1-V)}}return i})}let u=!1;return{start(){u||(u=!0,Ft(e),He(o)?(o=o(r),ar().then(f)):f())},invalidate(){u=!1},end(){i&&(c(),i=!1)}}}function Yr(e,t,n){const r={direction:"out"};let o=t(e,n,r),i=!0,a;const l=ke;l.r+=1;let s;function c(){const{delay:f=0,duration:u=300,easing:m=Jn,tick:g=E,css:v}=o||sr;v&&(a=or(e,1,0,u,f,m,v));const p=er()+f,y=p+u;qe(()=>yt(e,!1,"start")),"inert"in e&&(s=e.inert,e.inert=!0),nr(_=>{if(i){if(_>=y)return g(0,1),yt(e,!1,"end"),--l.r||J(l.c),!1;if(_>=p){const k=m((_-p)/u);g(1-k,k)}}return i})}return He(o)?ar().then(()=>{o=o(r),c()}):c(),{end(f){f&&"inert"in e&&(e.inert=s),f&&o.tick&&o.tick(1,0),i&&(a&&Ft(e,a),i=!1)}}}function dn(e,t){const n=t.token={};function r(o,i,a,l){if(t.token!==n)return;t.resolved=l;let s=t.ctx;a!==void 0&&(s=s.slice(),s[a]=l);const c=o&&(t.current=o)(s);let f=!1;t.block&&(t.blocks?t.blocks.forEach((u,m)=>{m!==i&&u&&(Le(),N(u,1,1,()=>{t.blocks[m]===u&&(t.blocks[m]=null)}),Ce())}):t.block.d(1),c.c(),W(c,1),c.m(t.mount(),t.anchor),f=!0),t.block=c,t.blocks&&(t.blocks[i]=c),f&&zt()}if(xr(e)){const o=Ke();if(e.then(i=>{be(o),r(t.then,1,t.value,i),be(null)},i=>{if(be(o),r(t.catch,2,t.error,i),be(null),!t.hasCatch)throw i}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Dr(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}function ue(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Br(e,t){N(e,1,1,()=>{t.delete(e.key)})}function Xr(e,t,n,r,o,i,a,l,s,c,f,u){let m=e.length,g=i.length,v=m;const p={};for(;v--;)p[e[v].key]=v;const y=[],_=new Map,k=new Map,L=[];for(v=g;v--;){const F=u(o,i,v),S=n(F);let w=a.get(S);w?L.push(()=>w.p(F,t)):(w=c(S,F),w.c()),_.set(S,y[v]=w),S in p&&k.set(S,Math.abs(v-p[S]))}const V=new Set,Z=new Set;function j(F){W(F,1),F.m(l,f),a.set(F.key,F),f=F.first,g--}for(;m&&g;){const F=y[g-1],S=e[m-1],w=F.key,R=S.key;F===S?(f=F.first,m--,g--):_.has(R)?!a.has(w)||V.has(w)?j(F):Z.has(R)?m--:k.get(w)>k.get(R)?(Z.add(w),j(F)):(V.add(R),m--):(s(S,a),m--)}for(;m--;){const F=e[m];_.has(F.key)||s(F,a)}for(;g;)j(y[g-1]);return J(L),y}function mn(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const s in a)s in l||(r[s]=1);for(const s in l)o[s]||(n[s]=l[s],o[s]=1);e[i]=l}else for(const s in a)o[s]=1}for(const a in r)a in n||(n[a]=void 0);return n}function ut(e){return typeof e=="object"&&e!==null?e:{}}function fe(e){e&&e.c()}function ie(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),qe(()=>{const i=e.$$.on_mount.map(Un).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...i):J(i),e.$$.on_mount=[]}),o.forEach(qe)}function ae(e,t){const n=e.$$;n.fragment!==null&&(qr(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function zr(e,t){e.$$.dirty[0]===-1&&(Ze.push(e),Gr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,n,r,o,i,a=null,l=[-1]){const s=Ue;be(e);const c=e.$$={fragment:null,ctx:[],props:i,update:E,not_equal:o,bound:on(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:on(),dirty:l,skip_bound:!1,root:t.target||s.$$.root};a&&a(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,m,...g)=>{const v=g.length?g[0]:m;return c.ctx&&o(c.ctx[u],c.ctx[u]=v)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](v),f&&zr(e,u)),m}):[],c.update(),f=!0,J(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=Vr(t.target);c.fragment&&c.fragment.l(u),u.forEach(x)}else c.fragment&&c.fragment.c();t.intro&&W(e.$$.fragment),ie(e,t.target,t.anchor),zt()}be(s)}class he{constructor(){Lt(this,"$$");Lt(this,"$$set")}$destroy(){ae(this,1),this.$destroy=E}$on(t,n){if(!He(n))return E;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Mr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $r="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($r);const hn={},Wt={},Jr={},lr=/^:(.+)/,vn=4,Ur=3,Qr=2,Kr=1,eo=1,Nt=e=>e.replace(/(^\/+|\/+$)/g,"").split("/"),Pt=e=>e.replace(/(^\/+|\/+$)/g,""),to=(e,t)=>{const n=e.default?0:Nt(e.path).reduce((r,o)=>(r+=vn,o===""?r+=eo:lr.test(o)?r+=Qr:o[0]==="*"?r-=vn+Kr:r+=Ur,r),0);return{route:e,score:n,index:t}},no=e=>e.map(to).sort((t,n)=>t.score<n.score?1:t.score>n.score?-1:t.index-n.index),pn=(e,t)=>{let n,r;const[o]=t.split("?"),i=Nt(o),a=i[0]==="",l=no(e);for(let s=0,c=l.length;s<c;s++){const f=l[s].route;let u=!1;if(f.default){r={route:f,params:{},uri:t};continue}const m=Nt(f.path),g={},v=Math.max(i.length,m.length);let p=0;for(;p<v;p++){const y=m[p],_=i[p];if(y&&y[0]==="*"){const L=y==="*"?"*":y.slice(1);g[L]=i.slice(p).map(decodeURIComponent).join("/");break}if(typeof _>"u"){u=!0;break}const k=lr.exec(y);if(k&&!a){const L=decodeURIComponent(_);g[k[1]]=L}else if(y!==_){u=!0;break}}if(!u){n={route:f,params:g,uri:"/"+i.slice(0,p).join("/")};break}}return n||r||null},gn=(e,t)=>`${Pt(t==="/"?e:`${Pt(e)}/${Pt(t)}`)}/`,ro=e=>!e.defaultPrevented&&e.button===0&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey),oo=e=>{const t=location.host;return e.host===t||e.href.indexOf(`https://${t}`)===0||e.href.indexOf(`http://${t}`)===0},cr=()=>typeof window<"u"&&"document"in window&&"location"in window,io=e=>({params:e&4}),bn=e=>({params:e[2]});function yn(e){let t,n,r,o;const i=[so,ao],a=[];function l(s,c){return s[0]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=Pe()},m(s,c){a[t].m(s,c),M(s,r,c),o=!0},p(s,c){let f=t;t=l(s),t===f?a[t].p(s,c):(Le(),N(a[f],1,1,()=>{a[f]=null}),Ce(),n=a[t],n?n.p(s,c):(n=a[t]=i[t](s),n.c()),W(n,1),n.m(r.parentNode,r))},i(s){o||(W(n),o=!0)},o(s){N(n),o=!1},d(s){s&&x(r),a[t].d(s)}}}function ao(e){let t;const n=e[8].default,r=Ht(n,e,e[7],bn);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&132)&&Dt(r,n,o,o[7],t?Yt(n,o[7],i,io):Bt(o[7]),bn)},i(o){t||(W(r,o),t=!0)},o(o){N(r,o),t=!1},d(o){r&&r.d(o)}}}function so(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:uo,then:co,catch:lo,value:12,blocks:[,,,]};return dn(n=e[0],o),{c(){t=Pe(),o.block.c()},m(i,a){M(i,t,a),o.block.m(i,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(i,a){e=i,o.ctx=e,a&1&&n!==(n=e[0])&&dn(n,o)||Dr(o,e,a)},i(i){r||(W(o.block),r=!0)},o(i){for(let a=0;a<3;a+=1){const l=o.blocks[a];N(l)}r=!1},d(i){i&&x(t),o.block.d(i),o.token=null,o=null}}}function lo(e){return{c:E,m:E,p:E,i:E,o:E,d:E}}function co(e){var l;let t,n,r;const o=[e[2],e[3]];var i=((l=e[12])==null?void 0:l.default)||e[12];function a(s,c){let f={};for(let u=0;u<o.length;u+=1)f=Je(f,o[u]);return c!==void 0&&c&12&&(f=Je(f,mn(o,[c&4&&ut(s[2]),c&8&&ut(s[3])]))),{props:f}}return i&&(t=un(i,a(e))),{c(){t&&fe(t.$$.fragment),n=Pe()},m(s,c){t&&ie(t,s,c),M(s,n,c),r=!0},p(s,c){var f;if(c&1&&i!==(i=((f=s[12])==null?void 0:f.default)||s[12])){if(t){Le();const u=t;N(u.$$.fragment,1,0,()=>{ae(u,1)}),Ce()}i?(t=un(i,a(s,c)),fe(t.$$.fragment),W(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else if(i){const u=c&12?mn(o,[c&4&&ut(s[2]),c&8&&ut(s[3])]):{};t.$set(u)}},i(s){r||(t&&W(t.$$.fragment,s),r=!0)},o(s){t&&N(t.$$.fragment,s),r=!1},d(s){s&&x(n),t&&ae(t,s)}}}function uo(e){return{c:E,m:E,p:E,i:E,o:E,d:E}}function fo(e){let t,n,r=e[1]&&e[1].route===e[5]&&yn(e);return{c(){r&&r.c(),t=Pe()},m(o,i){r&&r.m(o,i),M(o,t,i),n=!0},p(o,[i]){o[1]&&o[1].route===o[5]?r?(r.p(o,i),i&2&&W(r,1)):(r=yn(o),r.c(),W(r,1),r.m(t.parentNode,t)):r&&(Le(),N(r,1,1,()=>{r=null}),Ce())},i(o){n||(W(r),n=!0)},o(o){N(r),n=!1},d(o){o&&x(t),r&&r.d(o)}}}function mo(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{path:a=""}=t,{component:l=null}=t,s={},c={};const{registerRoute:f,unregisterRoute:u,activeRoute:m}=At(Wt);$e(e,m,v=>n(1,r=v));const g={path:a,default:a===""};return f(g),ir(()=>{u(g)}),e.$$set=v=>{n(11,t=Je(Je({},t),sn(v))),"path"in v&&n(6,a=v.path),"component"in v&&n(0,l=v.component),"$$scope"in v&&n(7,i=v.$$scope)},e.$$.update=()=>{if(r&&r.route===g){n(2,s=r.params);const{component:v,path:p,...y}=t;n(3,c=y),v&&(v.toString().startsWith("class ")?n(0,l=v):n(0,l=v())),cr()&&!r.preserveScroll&&(window==null||window.scrollTo(0,0))}},t=sn(t),[l,r,s,c,m,g,a,i,o]}class ft extends he{constructor(t){super(),me(this,t,mo,fo,re,{path:6,component:0})}}const Ve=[];function ho(e,t){return{subscribe:je(e,t).subscribe}}function je(e,t=E){let n;const r=new Set;function o(l){if(re(e,l)&&(e=l,n)){const s=!Ve.length;for(const c of r)c[1](),Ve.push(c,e);if(s){for(let c=0;c<Ve.length;c+=2)Ve[c][0](Ve[c+1]);Ve.length=0}}}function i(l){o(l(e))}function a(l,s=E){const c=[l,s];return r.add(c),r.size===1&&(n=t(o,i)||E),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}function vo(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return ho(n,(a,l)=>{let s=!1;const c=[];let f=0,u=E;const m=()=>{if(f)return;u();const v=t(r?c[0]:c,a,l);i?a(v):u=He(v)?v:E},g=o.map((v,p)=>qt(v,y=>{c[p]=y,f&=~(1<<p),s&&m()},()=>{f|=1<<p}));return s=!0,m(),function(){J(g),u(),s=!1}})}const Rt=e=>({...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}),po=e=>{const t=[];let n=Rt(e);return{get location(){return n},listen(r){t.push(r);const o=()=>{n=Rt(e),r({location:n,action:"POP"})};return e.addEventListener("popstate",o),()=>{e.removeEventListener("popstate",o);const i=t.indexOf(r);t.splice(i,1)}},navigate(r,{state:o,replace:i=!1,preserveScroll:a=!1,blurActiveElement:l=!0}={}){o={...o,key:Date.now()+""};try{i?e.history.replaceState(o,"",r):e.history.pushState(o,"",r)}catch{e.location[i?"replace":"assign"](r)}n=Rt(e),t.forEach(s=>s({location:n,action:"PUSH",preserveScroll:a})),l&&document.activeElement.blur()}}},go=(e="/")=>{let t=0;const n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener(o,i){},removeEventListener(o,i){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(o,i,a){const[l,s=""]=a.split("?");t++,n.push({pathname:l,search:s}),r.push(o)},replaceState(o,i,a){const[l,s=""]=a.split("?");n[t]={pathname:l,search:s},r[t]=o}}}},ur=po(cr()?window:go()),{navigate:Zt}=ur,bo=e=>({route:e&4,location:e&2}),_n=e=>({route:e[2]&&e[2].uri,location:e[1]}),yo=e=>({route:e&4,location:e&2}),wn=e=>({route:e[2]&&e[2].uri,location:e[1]});function _o(e){let t;const n=e[15].default,r=Ht(n,e,e[14],_n);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&16390)&&Dt(r,n,o,o[14],t?Yt(n,o[14],i,bo):Bt(o[14]),_n)},i(o){t||(W(r,o),t=!0)},o(o){N(r,o),t=!1},d(o){r&&r.d(o)}}}function wo(e){let t=e[1].pathname,n,r,o=kn(e);return{c(){o.c(),n=Pe()},m(i,a){o.m(i,a),M(i,n,a),r=!0},p(i,a){a&2&&re(t,t=i[1].pathname)?(Le(),N(o,1,1,E),Ce(),o=kn(i),o.c(),W(o,1),o.m(n.parentNode,n)):o.p(i,a)},i(i){r||(W(o),r=!0)},o(i){N(o),r=!1},d(i){i&&x(n),o.d(i)}}}function kn(e){let t,n,r,o;const i=e[15].default,a=Ht(i,e,e[14],wn);return{c(){t=b("div"),a&&a.c()},m(l,s){M(l,t,s),a&&a.m(t,null),o=!0},p(l,s){a&&a.p&&(!o||s&16390)&&Dt(a,i,l,l[14],o?Yt(i,l[14],s,yo):Bt(l[14]),wn)},i(l){o||(W(a,l),l&&qe(()=>{o&&(r&&r.end(1),n=Hr(t,e[3],{}),n.start())}),o=!0)},o(l){N(a,l),n&&n.invalidate(),l&&(r=Yr(t,e[3],{})),o=!1},d(l){l&&x(t),a&&a.d(l),l&&r&&r.end()}}}function ko(e){let t,n,r,o;const i=[wo,_o],a=[];function l(s,c){return s[0]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=Pe()},m(s,c){a[t].m(s,c),M(s,r,c),o=!0},p(s,[c]){let f=t;t=l(s),t===f?a[t].p(s,c):(Le(),N(a[f],1,1,()=>{a[f]=null}),Ce(),n=a[t],n?n.p(s,c):(n=a[t]=i[t](s),n.c()),W(n,1),n.m(r.parentNode,r))},i(s){o||(W(n),o=!0)},o(s){N(n),o=!1},d(s){s&&x(r),a[t].d(s)}}}function So(e,t,n){let r,o,i,a,{$$slots:l={},$$scope:s}=t,{basepath:c="/"}=t,{url:f=null}=t,{viewtransition:u=null}=t,{history:m=ur}=t;const g=(w,R,A)=>{const O=u(A);return typeof(O==null?void 0:O.fn)=="function"?O.fn(w,O):O};Ct(Jr,m);const v=At(hn),p=At(Wt),y=je([]);$e(e,y,w=>n(12,o=w));const _=je(null);$e(e,_,w=>n(2,a=w));let k=!1;const L=v||je(f?{pathname:f}:m.location);$e(e,L,w=>n(1,r=w));const V=p?p.routerBase:je({path:c,uri:c});$e(e,V,w=>n(13,i=w));const Z=vo([V,_],([w,R])=>{if(!R)return w;const{path:A}=w,{route:O,uri:ce}=R;return{path:O.default?A:O.path.replace(/\*.*$/,""),uri:ce}}),j=w=>{const{path:R}=i;let{path:A}=w;if(w._path=A,w.path=gn(R,A),typeof window>"u"){if(k)return;const O=pn([w],r.pathname);O&&(_.set(O),k=!0)}else y.update(O=>[...O,w])},F=w=>{y.update(R=>R.filter(A=>A!==w))};let S=!1;return v||(Ye(()=>m.listen(R=>{n(11,S=R.preserveScroll||!1),L.set(R.location)})),Ct(hn,L)),Ct(Wt,{activeRoute:_,base:V,routerBase:Z,registerRoute:j,unregisterRoute:F}),e.$$set=w=>{"basepath"in w&&n(8,c=w.basepath),"url"in w&&n(9,f=w.url),"viewtransition"in w&&n(0,u=w.viewtransition),"history"in w&&n(10,m=w.history),"$$scope"in w&&n(14,s=w.$$scope)},e.$$.update=()=>{if(e.$$.dirty&8192){const{path:w}=i;y.update(R=>R.map(A=>Object.assign(A,{path:gn(w,A._path)})))}if(e.$$.dirty&6146){const w=pn(o,r.pathname);_.set(w&&{...w,preserveScroll:S})}},[u,r,a,g,y,_,L,V,c,f,m,S,o,i,s,l]}class Lo extends he{constructor(t){super(),me(this,t,So,ko,re,{basepath:8,url:9,viewtransition:0,history:10})}}const ne=e=>{const t=n=>{const r=n.currentTarget;(r.target===""||r.target==="_self")&&oo(r)&&ro(n)&&(n.preventDefault(),Zt(r.pathname+r.search,{replace:r.hasAttribute("replace"),preserveScroll:r.hasAttribute("preserveScroll")}))};return e.addEventListener("click",t),{destroy(){e.removeEventListener("click",t)}}};function Co(){const{subscribe:e,set:t,update:n}=je({user:null,token:null});return{subscribe:e,setTokens:(r,o,i="Bearer")=>{const a={access_token:r,refresh_token:o,token_type:i};localStorage.setItem("token",JSON.stringify(a)),n(l=>({...l,token:a}))},setUser:r=>{localStorage.setItem("user",JSON.stringify(r)),n(o=>({...o,user:r}))},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("codeVerifier"),t({user:null,token:null})},initialize:()=>{const r=localStorage.getItem("token"),o=localStorage.getItem("user"),i=r?JSON.parse(r):null,a=o?JSON.parse(o):null;t({user:a,token:i})},isAuthenticated:()=>{const r=an(ee);return r.user!==null&&r.token!==null},isAdmin:()=>{var o,i;return((i=(o=an(ee).user)==null?void 0:o.roles)==null?void 0:i.includes("admin"))||!1}}}const ee=Co();var jt=function(){return jt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jt.apply(this,arguments)};function ve(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{c(r.next(f))}catch(u){a(u)}}function s(f){try{c(r.throw(f))}catch(u){a(u)}}function c(f){f.done?i(f.value):o(f.value).then(l,s)}c((r=r.apply(e,t||[])).next())})}function pe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return s([c,f])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function fr(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var dr="4.6.2";function _t(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function Eo(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function Po(e,t){t===void 0&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(r){return n.call(window,function(){return r()},{timeout:t})}):_t(Math.min(e,t))}function mr(e){return!!e&&typeof e.then=="function"}function Sn(e,t){try{var n=e();mr(n)?n.then(function(r){return t(!0,r)},function(r){return t(!1,r)}):t(!0,n)}catch(r){t(!1,r)}}function Ln(e,t,n){return n===void 0&&(n=16),ve(this,void 0,void 0,function(){var r,o,i,a;return pe(this,function(l){switch(l.label){case 0:r=Array(e.length),o=Date.now(),i=0,l.label=1;case 1:return i<e.length?(r[i]=t(e[i],i),a=Date.now(),a>=o+n?(o=a,[4,Eo()]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++i,[3,1];case 4:return[2,r]}})})}function Qe(e){return e.then(void 0,function(){}),e}function Ro(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}function Io(e,t){return!Ro(e,t)}function $t(e){return parseInt(e)}function oe(e){return parseFloat(e)}function ge(e,t){return typeof e=="number"&&isNaN(e)?t:e}function z(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function hr(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function xo(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(e),i=o[1]||void 0,a={},l=/([.:#][\w-]+|\[.+?\])/gi,s=function(m,g){a[m]=a[m]||[],a[m].push(g)};;){var c=l.exec(o[2]);if(!c)break;var f=c[0];switch(f[0]){case".":s("class",f.slice(1));break;case"#":s("id",f.slice(1));break;case"[":{var u=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(f);if(u)s(u[1],(n=(t=u[4])!==null&&t!==void 0?t:u[5])!==null&&n!==void 0?n:"");else throw new Error(r);break}default:throw new Error(r)}}return[i,a]}function Mo(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>127)return new TextEncoder().encode(e);t[n]=r}return t}function _e(e,t){var n=e[0]>>>16,r=e[0]&65535,o=e[1]>>>16,i=e[1]&65535,a=t[0]>>>16,l=t[0]&65535,s=t[1]>>>16,c=t[1]&65535,f=0,u=0,m=0,g=0;g+=i+c,m+=g>>>16,g&=65535,m+=o+s,u+=m>>>16,m&=65535,u+=r+l,f+=u>>>16,u&=65535,f+=n+a,f&=65535,e[0]=f<<16|u,e[1]=m<<16|g}function K(e,t){var n=e[0]>>>16,r=e[0]&65535,o=e[1]>>>16,i=e[1]&65535,a=t[0]>>>16,l=t[0]&65535,s=t[1]>>>16,c=t[1]&65535,f=0,u=0,m=0,g=0;g+=i*c,m+=g>>>16,g&=65535,m+=o*c,u+=m>>>16,m&=65535,m+=i*s,u+=m>>>16,m&=65535,u+=r*c,f+=u>>>16,u&=65535,u+=o*s,f+=u>>>16,u&=65535,u+=i*l,f+=u>>>16,u&=65535,f+=n*c+r*s+o*l+i*a,f&=65535,e[0]=f<<16|u,e[1]=m<<16|g}function Te(e,t){var n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function U(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function G(e,t){e[0]^=t[0],e[1]^=t[1]}var Fo=[4283543511,3981806797],Ao=[3301882366,444984403];function Cn(e){var t=[0,e[0]>>>1];G(e,t),K(e,Fo),t[1]=e[0]>>>1,G(e,t),K(e,Ao),t[1]=e[0]>>>1,G(e,t)}var dt=[2277735313,289559509],mt=[1291169091,658871167],En=[0,5],Vo=[0,1390208809],To=[0,944331445];function Wo(e,t){var n=Mo(e);t=t||0;var r=[0,n.length],o=r[1]%16,i=r[1]-o,a=[0,t],l=[0,t],s=[0,0],c=[0,0],f;for(f=0;f<i;f=f+16)s[0]=n[f+4]|n[f+5]<<8|n[f+6]<<16|n[f+7]<<24,s[1]=n[f]|n[f+1]<<8|n[f+2]<<16|n[f+3]<<24,c[0]=n[f+12]|n[f+13]<<8|n[f+14]<<16|n[f+15]<<24,c[1]=n[f+8]|n[f+9]<<8|n[f+10]<<16|n[f+11]<<24,K(s,dt),Te(s,31),K(s,mt),G(a,s),Te(a,27),_e(a,l),K(a,En),_e(a,Vo),K(c,mt),Te(c,33),K(c,dt),G(l,c),Te(l,31),_e(l,a),K(l,En),_e(l,To);s[0]=0,s[1]=0,c[0]=0,c[1]=0;var u=[0,0];switch(o){case 15:u[1]=n[f+14],U(u,48),G(c,u);case 14:u[1]=n[f+13],U(u,40),G(c,u);case 13:u[1]=n[f+12],U(u,32),G(c,u);case 12:u[1]=n[f+11],U(u,24),G(c,u);case 11:u[1]=n[f+10],U(u,16),G(c,u);case 10:u[1]=n[f+9],U(u,8),G(c,u);case 9:u[1]=n[f+8],G(c,u),K(c,mt),Te(c,33),K(c,dt),G(l,c);case 8:u[1]=n[f+7],U(u,56),G(s,u);case 7:u[1]=n[f+6],U(u,48),G(s,u);case 6:u[1]=n[f+5],U(u,40),G(s,u);case 5:u[1]=n[f+4],U(u,32),G(s,u);case 4:u[1]=n[f+3],U(u,24),G(s,u);case 3:u[1]=n[f+2],U(u,16),G(s,u);case 2:u[1]=n[f+1],U(u,8),G(s,u);case 1:u[1]=n[f],G(s,u),K(s,dt),Te(s,31),K(s,mt),G(a,s)}return G(a,r),G(l,r),_e(a,l),_e(l,a),Cn(a),Cn(l),_e(a,l),_e(l,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function No(e){var t;return jt({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function Zo(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function jo(e){return typeof e!="function"}function Go(e,t){var n=Qe(new Promise(function(r){var o=Date.now();Sn(e.bind(null,t),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var l=Date.now()-o;if(!i[0])return r(function(){return{error:i[1],duration:l}});var s=i[1];if(jo(s))return r(function(){return{value:s,duration:l}});r(function(){return new Promise(function(c){var f=Date.now();Sn(s,function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];var g=l+Date.now()-f;if(!u[0])return c({error:u[1],duration:g});c({value:u[1],duration:g})})})})})}));return function(){return n.then(function(o){return o()})}}function Oo(e,t,n,r){var o=Object.keys(e).filter(function(a){return Io(n,a)}),i=Qe(Ln(o,function(a){return Go(e[a],t)},r));return function(){return ve(this,void 0,void 0,function(){var l,s,c,f,u;return pe(this,function(m){switch(m.label){case 0:return[4,i];case 1:return l=m.sent(),[4,Ln(l,function(g){return Qe(g())},r)];case 2:return s=m.sent(),[4,Promise.all(s)];case 3:for(c=m.sent(),f={},u=0;u<o.length;++u)f[o[u]]=c[u];return[2,f]}})})}}function vr(){var e=window,t=navigator;return z(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function qo(){var e=window,t=navigator;return z(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!vr()}function et(){var e=window,t=navigator;return z(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function le(){var e=window,t=navigator;return z(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function Jt(){var e=window,t=e.HTMLElement,n=e.Document;return z(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function tt(){var e=window;return Zo(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function pr(){var e,t,n=window;return z(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function Ho(){var e=window;return z([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function Yo(){var e=window,t=e.URLPattern;return z(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function Do(){var e=window;return z(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function nt(){var e=window,t=navigator,n=e.CSS,r=e.HTMLButtonElement;return z([!("getStorageUpdates"in t),r&&"popover"in r.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function Bo(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return z(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function Xo(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function zo(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function Ut(){var e=et(),t=pr(),n=window,r=navigator,o="connection";return e?z([!("SharedWorker"in n),r[o]&&"ontypechange"in r[o],!("sinkId"in new Audio)])>=2:t?z(["onorientationchange"in n,"orientation"in n,/android/i.test(r.appVersion)])>=2:!1}function $o(){var e=navigator,t=window,n=Audio.prototype,r=t.visualViewport;return z(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,r&&"segments"in r,"getTextInformation"in Image.prototype])>=3}function Jo(){return Ko()?-4:Uo()}function Uo(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Qo())return-1;var n=4500,r=5e3,o=new t(1,r,44100),i=o.createOscillator();i.type="triangle",i.frequency.value=1e4;var a=o.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,i.connect(a),a.connect(o.destination),i.start(0);var l=ei(o),s=l[0],c=l[1],f=Qe(s.then(function(u){return ti(u.getChannelData(0).subarray(n))},function(u){if(u.name==="timeout"||u.name==="suspended")return-3;throw u}));return function(){return c(),f}}function Qo(){return le()&&!Jt()&&!Do()}function Ko(){return le()&&nt()&&tt()||et()&&$o()&&Yo()}function ei(e){var t=3,n=500,r=500,o=5e3,i=function(){},a=new Promise(function(l,s){var c=!1,f=0,u=0;e.oncomplete=function(v){return l(v.renderedBuffer)};var m=function(){setTimeout(function(){return s(Pn("timeout"))},Math.min(r,u+o-Date.now()))},g=function(){try{var v=e.startRendering();switch(mr(v)&&Qe(v),e.state){case"running":u=Date.now(),c&&m();break;case"suspended":document.hidden||f++,c&&f>=t?s(Pn("suspended")):setTimeout(g,n);break}}catch(p){s(p)}};g(),i=function(){c||(c=!0,u>0&&m())}});return[a,i]}function ti(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function Pn(e){var t=new Error(e);return t.name=e,t}function gr(e,t,n){var r,o,i;return n===void 0&&(n=50),ve(this,void 0,void 0,function(){var a,l;return pe(this,function(s){switch(s.label){case 0:a=document,s.label=1;case 1:return a.body?[3,3]:[4,_t(n)];case 2:return s.sent(),[3,1];case 3:l=a.createElement("iframe"),s.label=4;case 4:return s.trys.push([4,,10,11]),[4,new Promise(function(c,f){var u=!1,m=function(){u=!0,c()},g=function(y){u=!0,f(y)};l.onload=m,l.onerror=g;var v=l.style;v.setProperty("display","block","important"),v.position="absolute",v.top="0",v.left="0",v.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",a.body.appendChild(l);var p=function(){var y,_;u||(((_=(y=l.contentWindow)===null||y===void 0?void 0:y.document)===null||_===void 0?void 0:_.readyState)==="complete"?m():setTimeout(p,10))};p()})];case 5:s.sent(),s.label=6;case 6:return!((o=(r=l.contentWindow)===null||r===void 0?void 0:r.document)===null||o===void 0)&&o.body?[3,8]:[4,_t(n)];case 7:return s.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,s.sent()];case 10:return(i=l.parentNode)===null||i===void 0||i.removeChild(l),[7];case 11:return[2]}})})}function ni(e){for(var t=xo(e),n=t[0],r=t[1],o=document.createElement(n??"div"),i=0,a=Object.keys(r);i<a.length;i++){var l=a[i],s=r[l].join(" ");l==="style"?ri(o.style,s):o.setAttribute(l,s)}return o}function ri(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(i){var a=i[1],l=i[2],s=i[4];e.setProperty(a,l,s||"")}}}function oi(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}e=t}}var ii="mmMwWLliI0O&1",ai="48px",We=["monospace","sans-serif","serif"],Rn=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function si(){var e=this;return gr(function(t,n){var r=n.document;return ve(e,void 0,void 0,function(){var o,i,a,l,s,c,f,u,m,g,v,p;return pe(this,function(y){for(o=r.body,o.style.fontSize=ai,i=r.createElement("div"),i.style.setProperty("visibility","hidden","important"),a={},l={},s=function(_){var k=r.createElement("span"),L=k.style;return L.position="absolute",L.top="0",L.left="0",L.fontFamily=_,k.textContent=ii,i.appendChild(k),k},c=function(_,k){return s("'".concat(_,"',").concat(k))},f=function(){return We.map(s)},u=function(){for(var _={},k=function(j){_[j]=We.map(function(F){return c(j,F)})},L=0,V=Rn;L<V.length;L++){var Z=V[L];k(Z)}return _},m=function(_){return We.some(function(k,L){return _[L].offsetWidth!==a[k]||_[L].offsetHeight!==l[k]})},g=f(),v=u(),o.appendChild(i),p=0;p<We.length;p++)a[We[p]]=g[p].offsetWidth,l[We[p]]=g[p].offsetHeight;return[2,Rn.filter(function(_){return m(v[_])})]})})})}function li(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var o=[],i=0;i<r.length;++i){var a=r[i];o.push({type:a.type,suffixes:a.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:o})}}return t}}function ci(){return ui(gi())}function ui(e){var t,n=!1,r,o,i=fi(),a=i[0],l=i[1];return di(a,l)?(n=mi(l),e?r=o="skipped":(t=hi(a,l),r=t[0],o=t[1])):r=o="unsupported",{winding:n,geometry:r,text:o}}function fi(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function di(e,t){return!!(t&&e.toDataURL)}function mi(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function hi(e,t){vi(e,t);var n=It(e),r=It(e);if(n!==r)return["unstable","unstable"];pi(e,t);var o=It(e);return[o,n]}function vi(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat("😃");t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function pi(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var o=r[n],i=o[0],a=o[1],l=o[2];t.fillStyle=i,t.beginPath(),t.arc(a,l,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function It(e){return e.toDataURL()}function gi(){return le()&&nt()&&tt()}function bi(){var e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=$t(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var r="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:r}}function yi(){return navigator.oscpu}function _i(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))et()&&Ho()||t.push(e.languages);else if(typeof e.languages=="string"){var r=e.languages;r&&t.push(r.split(","))}return t}function wi(){return window.screen.colorDepth}function ki(){return ge(oe(navigator.deviceMemory),void 0)}function Si(){if(!(le()&&nt()&&tt()))return Li()}function Li(){var e=screen,t=function(r){return ge($t(r),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var Ci=2500,Ei=10,pt,xt;function Pi(){if(xt===void 0){var e=function(){var t=Gt();Ot(t)?xt=setTimeout(e,Ci):(pt=t,xt=void 0)};e()}}function Ri(){var e=this;return Pi(),function(){return ve(e,void 0,void 0,function(){var t;return pe(this,function(n){switch(n.label){case 0:return t=Gt(),Ot(t)?pt?[2,fr([],pt,!0)]:Xo()?[4,zo()]:[3,2]:[3,2];case 1:n.sent(),t=Gt(),n.label=2;case 2:return Ot(t)||(pt=t),[2,t]}})})}}function Ii(){var e=this;if(le()&&nt()&&tt())return function(){return Promise.resolve(void 0)};var t=Ri();return function(){return ve(e,void 0,void 0,function(){var n,r;return pe(this,function(o){switch(o.label){case 0:return[4,t()];case 1:return n=o.sent(),r=function(i){return i===null?null:hr(i,Ei)},[2,[r(n[0]),r(n[1]),r(n[2]),r(n[3])]]}})})}}function Gt(){var e=screen;return[ge(oe(e.availTop),null),ge(oe(e.width)-oe(e.availWidth)-ge(oe(e.availLeft),0),null),ge(oe(e.height)-oe(e.availHeight)-ge(oe(e.availTop),0),null),ge(oe(e.availLeft),null)]}function Ot(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function xi(){return ge($t(navigator.hardwareConcurrency),void 0)}function Mi(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var n=new t().resolvedOptions().timeZone;if(n)return n}var r=-Fi();return"UTC".concat(r>=0?"+":"").concat(r)}function Fi(){var e=new Date().getFullYear();return Math.max(oe(new Date(e,0,1).getTimezoneOffset()),oe(new Date(e,6,1).getTimezoneOffset()))}function Ai(){try{return!!window.sessionStorage}catch{return!0}}function Vi(){try{return!!window.localStorage}catch{return!0}}function Ti(){if(!(vr()||qo()))try{return!!window.indexedDB}catch{return!0}}function Wi(){return!!window.openDatabase}function Ni(){return navigator.cpuClass}function Zi(){var e=navigator.platform;return e==="MacIntel"&&le()&&!Jt()?Bo()?"iPad":"iPhone":e}function ji(){return navigator.vendor||""}function Gi(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],o=window[r];o&&typeof o=="object"&&e.push(r)}return e.sort()}function Oi(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function qi(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function Hi(e){var t=e===void 0?{}:e,n=t.debug;return ve(this,void 0,void 0,function(){var r,o,i,a,l,s;return pe(this,function(c){switch(c.label){case 0:return Yi()?(r=qi(),o=Object.keys(r),i=(s=[]).concat.apply(s,o.map(function(f){return r[f]})),[4,Di(i)]):[2,void 0];case 1:return a=c.sent(),n&&Bi(r,a),l=o.filter(function(f){var u=r[f],m=z(u.map(function(g){return a[g]}));return m>u.length*.6}),l.sort(),[2,l]}})})}function Yi(){return le()||Ut()}function Di(e){var t;return ve(this,void 0,void 0,function(){var n,r,o,i,s,a,l,s;return pe(this,function(c){switch(c.label){case 0:for(n=document,r=n.createElement("div"),o=new Array(e.length),i={},In(r),s=0;s<e.length;++s)a=ni(e[s]),a.tagName==="DIALOG"&&a.show(),l=n.createElement("div"),In(l),l.appendChild(a),r.appendChild(l),o[s]=a;c.label=1;case 1:return n.body?[3,3]:[4,_t(50)];case 2:return c.sent(),[3,1];case 3:n.body.appendChild(r);try{for(s=0;s<e.length;++s)o[s].offsetParent||(i[e[s]]=!0)}finally{(t=r.parentNode)===null||t===void 0||t.removeChild(r)}return[2,i]}})})}function In(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function Bi(e,t){for(var n="DOM blockers debug:\n```",r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n+=`
`.concat(i,":");for(var a=0,l=e[i];a<l.length;a++){var s=l[a];n+=`
  `.concat(t[s]?"🚫":"➡️"," ").concat(s)}}console.log("".concat(n,"\n```"))}function Xi(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function zi(){if(xn("inverted"))return!0;if(xn("none"))return!1}function xn(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function $i(){if(Mn("active"))return!0;if(Mn("none"))return!1}function Mn(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var Ji=100;function Ui(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=Ji;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function Qi(){if(Ne("no-preference"))return 0;if(Ne("high")||Ne("more"))return 1;if(Ne("low")||Ne("less"))return-1;if(Ne("forced"))return 10}function Ne(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function Ki(){if(Fn("reduce"))return!0;if(Fn("no-preference"))return!1}function Fn(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ea(){if(An("reduce"))return!0;if(An("no-preference"))return!1}function An(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function ta(){if(Vn("high"))return!0;if(Vn("standard"))return!1}function Vn(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var T=Math,X=function(){return 0};function na(){var e=T.acos||X,t=T.acosh||X,n=T.asin||X,r=T.asinh||X,o=T.atanh||X,i=T.atan||X,a=T.sin||X,l=T.sinh||X,s=T.cos||X,c=T.cosh||X,f=T.tan||X,u=T.tanh||X,m=T.exp||X,g=T.expm1||X,v=T.log1p||X,p=function(S){return T.pow(T.PI,S)},y=function(S){return T.log(S+T.sqrt(S*S-1))},_=function(S){return T.log(S+T.sqrt(S*S+1))},k=function(S){return T.log((1+S)/(1-S))/2},L=function(S){return T.exp(S)-1/T.exp(S)/2},V=function(S){return(T.exp(S)+1/T.exp(S))/2},Z=function(S){return T.exp(S)-1},j=function(S){return(T.exp(2*S)-1)/(T.exp(2*S)+1)},F=function(S){return T.log(1+S)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:y(1e154),asin:n(.12312423423423424),asinh:r(1),asinhPf:_(1),atanh:o(.5),atanhPf:k(.5),atan:i(.5),sin:a(-1e300),sinh:l(1),sinhPf:L(1),cos:s(10.000000000123),cosh:c(1),coshPf:V(1),tan:f(-1e300),tanh:u(1),tanhPf:j(1),exp:m(1),expm1:g(1),expm1Pf:Z(1),log1p:v(10),log1pPf:F(10),powPI:p(-100)}}var ra="mmMwWLliI0fiflO&1",Mt={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function oa(){return ia(function(e,t){for(var n={},r={},o=0,i=Object.keys(Mt);o<i.length;o++){var a=i[o],l=Mt[a],s=l[0],c=s===void 0?{}:s,f=l[1],u=f===void 0?ra:f,m=e.createElement("span");m.textContent=u,m.style.whiteSpace="nowrap";for(var g=0,v=Object.keys(c);g<v.length;g++){var p=v[g],y=c[p];y!==void 0&&(m.style[p]=y)}n[a]=m,t.append(e.createElement("br"),m)}for(var _=0,k=Object.keys(Mt);_<k.length;_++){var a=k[_];r[a]=n[a].getBoundingClientRect().width}return r})}function ia(e,t){return t===void 0&&(t=4e3),gr(function(n,r){var o=r.document,i=o.body,a=i.style;a.width="".concat(t,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",et()?i.style.zoom="".concat(1/r.devicePixelRatio):le()&&(i.style.zoom="reset");var l=o.createElement("div");return l.textContent=fr([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),i.appendChild(l),e(o,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function aa(){return navigator.pdfViewerEnabled}function sa(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function la(){var e=window.ApplePaySession;if(typeof(e==null?void 0:e.canMakePayments)!="function")return-1;if(ca())return-3;try{return e.canMakePayments()?1:0}catch(t){return ua(t)}}var ca=oi;function ua(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function fa(){var e,t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var br=-1,yr=-2,da=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),ma=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),ha=["FRAGMENT_SHADER","VERTEX_SHADER"],va=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],_r="WEBGL_debug_renderer_info",pa="WEBGL_polygon_mode";function ga(e){var t,n,r,o,i,a,l=e.cache,s=wr(l);if(!s)return br;if(!Sr(s))return yr;var c=kr()?null:s.getExtension(_r);return{version:((t=s.getParameter(s.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=s.getParameter(s.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:c?(r=s.getParameter(c.UNMASKED_VENDOR_WEBGL))===null||r===void 0?void 0:r.toString():"",renderer:((o=s.getParameter(s.RENDERER))===null||o===void 0?void 0:o.toString())||"",rendererUnmasked:c?(i=s.getParameter(c.UNMASKED_RENDERER_WEBGL))===null||i===void 0?void 0:i.toString():"",shadingLanguageVersion:((a=s.getParameter(s.SHADING_LANGUAGE_VERSION))===null||a===void 0?void 0:a.toString())||""}}function ba(e){var t=e.cache,n=wr(t);if(!n)return br;if(!Sr(n))return yr;var r=n.getSupportedExtensions(),o=n.getContextAttributes(),i=[],a=[],l=[],s=[],c=[];if(o)for(var f=0,u=Object.keys(o);f<u.length;f++){var m=u[f];a.push("".concat(m,"=").concat(o[m]))}for(var g=Tn(n),v=0,p=g;v<p.length;v++){var y=p[v],_=n[y];l.push("".concat(y,"=").concat(_).concat(da.has(_)?"=".concat(n.getParameter(_)):""))}if(r)for(var k=0,L=r;k<L.length;k++){var V=L[k];if(!(V===_r&&kr()||V===pa&&wa())){var Z=n.getExtension(V);if(!Z){i.push(V);continue}for(var j=0,F=Tn(Z);j<F.length;j++){var y=F[j],_=Z[y];s.push("".concat(y,"=").concat(_).concat(ma.has(_)?"=".concat(n.getParameter(_)):""))}}}for(var S=0,w=ha;S<w.length;S++)for(var R=w[S],A=0,O=va;A<O.length;A++){var ce=O[A],De=ya(n,R,ce);c.push("".concat(R,".").concat(ce,"=").concat(De.join(",")))}return s.sort(),l.sort(),{contextAttributes:a,parameters:l,shaderPrecisions:c,extensions:r,extensionParameters:s,unsupportedExtensions:i}}function wr(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",function(){return n=void 0});for(var r=0,o=["webgl","experimental-webgl"];r<o.length;r++){var i=o[r];try{n=t.getContext(i)}catch{}if(n)break}return e.webgl={context:n},n}function ya(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function Tn(e){var t=Object.keys(e.__proto__);return t.filter(_a)}function _a(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function kr(){return pr()}function wa(){return et()||le()}function Sr(e){return typeof e.getParameter=="function"}function ka(){var e=Ut()||le();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function Sa(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var La={fonts:si,domBlockers:Hi,fontPreferences:oa,audio:Jo,screenFrame:Ii,canvas:ci,osCpu:yi,languages:_i,colorDepth:wi,deviceMemory:ki,screenResolution:Si,hardwareConcurrency:xi,timezone:Mi,sessionStorage:Ai,localStorage:Vi,indexedDB:Ti,openDatabase:Wi,cpuClass:Ni,platform:Zi,plugins:li,touchSupport:bi,vendor:ji,vendorFlavors:Gi,cookiesEnabled:Oi,colorGamut:Xi,invertedColors:zi,forcedColors:$i,monochrome:Ui,contrast:Qi,reducedMotion:Ki,reducedTransparency:ea,hdr:ta,math:na,pdfViewerEnabled:aa,architecture:sa,applePay:la,privateClickMeasurement:fa,audioBaseLatency:ka,dateTimeLocale:Sa,webGlBasics:ga,webGlExtensions:ba};function Ca(e){return Oo(La,e,[])}var Ea="$ if upgrade to Pro: https://fpjs.dev/pro";function Pa(e){var t=Ra(e),n=Ia(t);return{score:t,comment:Ea.replace(/\$/g,"".concat(n))}}function Ra(e){if(Ut())return .4;if(le())return Jt()&&!(nt()&&tt())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function Ia(e){return hr(.99+.01*e,1e-4)}function xa(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var o=r[n],i=e[o],a="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return t}function Lr(e){return JSON.stringify(e,function(t,n){return n instanceof Error?No(n):n},2)}function Cr(e){return Wo(xa(e))}function Ma(e){var t,n=Pa(e);return{get visitorId(){return t===void 0&&(t=Cr(this.components)),t},set visitorId(r){t=r},confidence:n,components:e,version:dr}}function Fa(e){return e===void 0&&(e=50),Po(e,e*2)}function Aa(e,t){var n=Date.now();return{get:function(r){return ve(this,void 0,void 0,function(){var o,i,a;return pe(this,function(l){switch(l.label){case 0:return o=Date.now(),[4,e()];case 1:return i=l.sent(),a=Ma(i),(t||r!=null&&r.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(a.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(o-n,`
visitorId: `).concat(a.visitorId,`
components: `).concat(Lr(i),"\n```")),[2,a]}})})}}}function Va(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(dr,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function Ta(e){var t;return e===void 0&&(e={}),ve(this,void 0,void 0,function(){var n,r,o;return pe(this,function(i){switch(i.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&Va(),n=e.delayFallback,r=e.debug,[4,Fa(n)];case 1:return i.sent(),o=Ca({cache:{},debug:r}),[2,Aa(o,r)]}})})}var Wa={load:Ta,hashComponents:Cr,componentsToDebugString:Lr};const de={clientId:"book-app",authorizationEndpoint:"http://127.0.0.1:5001/oauth/authorize",tokenEndpoint:"http://127.0.0.1:5001/oauth/token",userInfoEndpoint:"http://127.0.0.1:5001/oauth/me",redirectUri:window.location.origin+"/callback",scope:""},Na=Wa.load();async function Za(){try{return(await(await Na).get()).visitorId}catch(e){throw console.error("Error generating fingerprint:",e),new Error("Unable to generate device fingerprint")}}function ja(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}async function Ga(e){const n=new TextEncoder().encode(e);return await window.crypto.subtle.digest("SHA-256",n)}function Oa(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qa(e){const t=await Ga(e);return Oa(t)}async function Er(){const e=ja(128);localStorage.setItem("codeVerifier",e);const t=await qa(e);try{const n=await Za();localStorage.setItem("fingerprint",n);const r=new URL(de.authorizationEndpoint);r.searchParams.append("client_id",de.clientId),r.searchParams.append("redirect_uri",de.redirectUri),r.searchParams.append("response_type","code"),r.searchParams.append("scope",de.scope),r.searchParams.append("code_challenge_method","S256"),r.searchParams.append("code_challenge",t),r.searchParams.append("fingerprint",n),window.location.href=r.toString()}catch(n){console.error("Authentication error:",n),alert("Случилась ошибка при генерации отпечка пользователя.")}}async function Ha(e){const t=localStorage.getItem("codeVerifier"),n=localStorage.getItem("fingerprint");if(!t)throw new Error("No code verifier found");if(!n)throw new Error("No device fingerprint found");const r=new URLSearchParams;r.append("client_id",de.clientId),r.append("grant_type","authorization_code"),r.append("code",e),r.append("redirect_uri",de.redirectUri),r.append("code_verifier",t),r.append("fingerprint",n);const o=await fetch(de.tokenEndpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(!o.ok)throw new Error("Failed to exchange code for tokens");return await o.json()}async function Pr(e){const t=await fetch(de.userInfoEndpoint,{headers:{Authorization:`${e.token_type} ${e.access_token}`}});if(!t.ok)throw new Error("Failed to fetch user info");return await t.json()}function Ya(e){if(!(e!=null&&e.access_token))return!0;try{const t=JSON.parse(atob(e.access_token.split(".")[1]));return Date.now()>=t.exp*1e3}catch{return!0}}async function Da(e){const t=localStorage.getItem("fingerprint");if(!t)throw new Error("No device fingerprint found");const n=new URLSearchParams;n.append("client_id",de.clientId),n.append("grant_type","refresh_token"),n.append("refresh_token",e),n.append("fingerprint",t);const r=await fetch(de.tokenEndpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!r.ok)throw new Error("Failed to refresh token");return await r.json()}const Qt="/api";async function Ba(){try{const e=await fetch(`${Qt}/books`);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching popular books:",e),[]}}async function Xa(e){try{const t=await fetch(`${Qt}/books/${e}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error(`Error fetching book details for ID ${e}:`,t),null}}async function za(e){try{const t=await fetch(`${Qt}/search?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error("Error searching books:",t),[]}}function $a(e){let t,n,r,o,i,a,l,s,c=e[0].title+"",f,u,m,g;return{c(){t=b("a"),n=b("div"),r=b("img"),a=I(),l=b("div"),s=b("h3"),f=H(c),Se(r.src,o=e[0].thumbnail)||d(r,"src",o),d(r,"alt",i=e[0].title),d(r,"class","svelte-1ecpjwk"),d(n,"class","book-cover svelte-1ecpjwk"),d(s,"class","book-title svelte-1ecpjwk"),d(l,"class","book-info svelte-1ecpjwk"),d(t,"href",u=`/book/${e[0].id}`),d(t,"class","book-card svelte-1ecpjwk")},m(v,p){M(v,t,p),h(t,n),h(n,r),h(t,a),h(t,l),h(l,s),h(s,f),m||(g=te(ne.call(null,t)),m=!0)},p(v,[p]){p&1&&!Se(r.src,o=v[0].thumbnail)&&d(r,"src",o),p&1&&i!==(i=v[0].title)&&d(r,"alt",i),p&1&&c!==(c=v[0].title+"")&&Q(f,c),p&1&&u!==(u=`/book/${v[0].id}`)&&d(t,"href",u)},i:E,o:E,d(v){v&&x(t),m=!1,g()}}}function Ja(e,t,n){let{book:r}=t;return e.$$set=o=>{"book"in o&&n(0,r=o.book)},[r]}class Ua extends he{constructor(t){super(),me(this,t,Ja,$a,re,{book:0})}}function Wn(e,t,n){const r=e.slice();return r[3]=t[n],r}function Qa(e){let t,n=[],r=new Map,o,i=ue(e[0]);const a=l=>l[3].id;for(let l=0;l<i.length;l+=1){let s=Wn(e,i,l),c=a(s);r.set(c,n[l]=Nn(c,s))}return{c(){t=b("div");for(let l=0;l<n.length;l+=1)n[l].c();d(t,"class","books-grid svelte-r2d3ln")},m(l,s){M(l,t,s);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);o=!0},p(l,s){s&1&&(i=ue(l[0]),Le(),n=Xr(n,s,a,1,l,i,r,t,Br,Nn,null,Wn),Ce())},i(l){if(!o){for(let s=0;s<i.length;s+=1)W(n[s]);o=!0}},o(l){for(let s=0;s<n.length;s+=1)N(n[s]);o=!1},d(l){l&&x(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Ka(e){let t;return{c(){t=b("div"),t.textContent="Книги не найдены",d(t,"class","no-results svelte-r2d3ln")},m(n,r){M(n,t,r)},p:E,i:E,o:E,d(n){n&&x(t)}}}function es(e){let t;return{c(){t=b("div"),t.textContent="Произошла ошибка при загрузке данных",d(t,"class","error svelte-r2d3ln")},m(n,r){M(n,t,r)},p:E,i:E,o:E,d(n){n&&x(t)}}}function ts(e){let t;return{c(){t=b("div"),t.textContent="Загрузка...",d(t,"class","loading svelte-r2d3ln")},m(n,r){M(n,t,r)},p:E,i:E,o:E,d(n){n&&x(t)}}}function Nn(e,t){let n,r,o;return r=new Ua({props:{book:t[3]}}),{key:e,first:null,c(){n=Pe(),fe(r.$$.fragment),this.first=n},m(i,a){M(i,n,a),ie(r,i,a),o=!0},p(i,a){t=i;const l={};a&1&&(l.book=t[3]),r.$set(l)},i(i){o||(W(r.$$.fragment,i),o=!0)},o(i){N(r.$$.fragment,i),o=!1},d(i){i&&x(n),ae(r,i)}}}function ns(e){let t,n,r,o,i,a;const l=[ts,es,Ka,Qa],s=[];function c(f,u){return f[1]?0:f[2]?1:f[0].length===0?2:3}return o=c(e),i=s[o]=l[o](e),{c(){t=b("div"),n=b("h2"),n.textContent="Популярные книги",r=I(),i.c(),d(n,"class","section-title svelte-r2d3ln"),d(t,"class","container svelte-r2d3ln")},m(f,u){M(f,t,u),h(t,n),h(t,r),s[o].m(t,null),a=!0},p(f,[u]){let m=o;o=c(f),o===m?s[o].p(f,u):(Le(),N(s[m],1,1,()=>{s[m]=null}),Ce(),i=s[o],i?i.p(f,u):(i=s[o]=l[o](f),i.c()),W(i,1),i.m(t,null))},i(f){a||(W(i),a=!0)},o(f){N(i),a=!1},d(f){f&&x(t),s[o].d()}}}function rs(e,t,n){let r=[],o=!0,i=!1;return Ye(async()=>{try{n(0,r=await Ba()),n(1,o=!1)}catch{n(2,i=!0),n(1,o=!1)}}),[r,o,i]}class os extends he{constructor(t){super(),me(this,t,rs,ns,re,{})}}function Zn(e,t,n){const r=e.slice();return r[7]=t[n],r}function jn(e,t,n){const r=e.slice();return r[10]=t[n],r}function Gn(e,t,n){const r=e.slice();return r[13]=t[n],r}function is(e){let t,n,r,o,i,a,l,s,c,f=e[0].title+"",u,m,g,v,p,y,_,k=e[0].status.name+"",L,V,Z,j,F,S,w,R,A,O,ce,De,Re,rt,Kt,Be,en,Ie,Xe,ot=e[0].chapters_count+"",wt,tn,nn,it,kt,Ee,at,rn,st,lt=e[0].description+"",St,$=e[3]&&On(e),xe=ue(e[0].authors),Y=[];for(let C=0;C<xe.length;C+=1)Y[C]=qn(Gn(e,xe,C));let Me=ue(e[0].genres),D=[];for(let C=0;C<Me.length;C+=1)D[C]=Hn(jn(e,Me,C));let Fe=ue(e[0].tags),B=[];for(let C=0;C<Fe.length;C+=1)B[C]=Yn(Zn(e,Fe,C));return{c(){$&&$.c(),t=I(),n=b("div"),r=b("div"),o=b("img"),l=I(),s=b("div"),c=b("h1"),u=H(f),m=I(),g=b("div"),v=b("div"),p=b("span"),p.textContent="Статус:",y=I(),_=b("span"),L=H(k),V=I(),Z=b("div"),j=b("span"),j.textContent="Авторы:",F=I(),S=b("div");for(let C=0;C<Y.length;C+=1)Y[C].c();w=I(),R=b("div"),A=b("span"),A.textContent="Жанры:",O=I(),ce=b("div");for(let C=0;C<D.length;C+=1)D[C].c();De=I(),Re=b("div"),rt=b("span"),rt.textContent="Теги:",Kt=I(),Be=b("div");for(let C=0;C<B.length;C+=1)B[C].c();en=I(),Ie=b("div"),Xe=b("span"),wt=H(ot),tn=H(" глав"),nn=I(),it=b("button"),it.textContent="Читать",kt=I(),Ee=b("div"),at=b("h2"),at.textContent="Описание",rn=I(),st=b("div"),St=H(lt),Se(o.src,i=e[0].cover)||d(o,"src",i),d(o,"alt",a=e[0].title),d(o,"class","svelte-q01eq8"),d(r,"class","book-cover svelte-q01eq8"),d(c,"class","book-title svelte-q01eq8"),d(p,"class","meta-label svelte-q01eq8"),d(_,"class","meta-value"),d(v,"class","meta-item svelte-q01eq8"),d(j,"class","meta-label svelte-q01eq8"),d(S,"class","meta-list svelte-q01eq8"),d(Z,"class","meta-item svelte-q01eq8"),d(A,"class","meta-label svelte-q01eq8"),d(ce,"class","meta-list svelte-q01eq8"),d(R,"class","meta-item svelte-q01eq8"),d(rt,"class","meta-label svelte-q01eq8"),d(Be,"class","meta-list svelte-q01eq8"),d(Re,"class","meta-item svelte-q01eq8"),d(g,"class","book-meta svelte-q01eq8"),d(Xe,"class","chapters-count svelte-q01eq8"),d(it,"class","read-button svelte-q01eq8"),d(Ie,"class","book-chapters svelte-q01eq8"),d(s,"class","book-info svelte-q01eq8"),d(n,"class","book-header svelte-q01eq8"),d(at,"class","section-title svelte-q01eq8"),d(st,"class","description-text svelte-q01eq8"),d(Ee,"class","book-description svelte-q01eq8")},m(C,q){$&&$.m(C,q),M(C,t,q),M(C,n,q),h(n,r),h(r,o),h(n,l),h(n,s),h(s,c),h(c,u),h(s,m),h(s,g),h(g,v),h(v,p),h(v,y),h(v,_),h(_,L),h(g,V),h(g,Z),h(Z,j),h(Z,F),h(Z,S);for(let P=0;P<Y.length;P+=1)Y[P]&&Y[P].m(S,null);h(g,w),h(g,R),h(R,A),h(R,O),h(R,ce);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(ce,null);h(g,De),h(g,Re),h(Re,rt),h(Re,Kt),h(Re,Be);for(let P=0;P<B.length;P+=1)B[P]&&B[P].m(Be,null);h(s,en),h(s,Ie),h(Ie,Xe),h(Xe,wt),h(Xe,tn),h(Ie,nn),h(Ie,it),M(C,kt,q),M(C,Ee,q),h(Ee,at),h(Ee,rn),h(Ee,st),h(st,St)},p(C,q){if(C[3]?$?$.p(C,q):($=On(C),$.c(),$.m(t.parentNode,t)):$&&($.d(1),$=null),q&1&&!Se(o.src,i=C[0].cover)&&d(o,"src",i),q&1&&a!==(a=C[0].title)&&d(o,"alt",a),q&1&&f!==(f=C[0].title+"")&&Q(u,f),q&1&&k!==(k=C[0].status.name+"")&&Q(L,k),q&1){xe=ue(C[0].authors);let P;for(P=0;P<xe.length;P+=1){const ye=Gn(C,xe,P);Y[P]?Y[P].p(ye,q):(Y[P]=qn(ye),Y[P].c(),Y[P].m(S,null))}for(;P<Y.length;P+=1)Y[P].d(1);Y.length=xe.length}if(q&1){Me=ue(C[0].genres);let P;for(P=0;P<Me.length;P+=1){const ye=jn(C,Me,P);D[P]?D[P].p(ye,q):(D[P]=Hn(ye),D[P].c(),D[P].m(ce,null))}for(;P<D.length;P+=1)D[P].d(1);D.length=Me.length}if(q&1){Fe=ue(C[0].tags);let P;for(P=0;P<Fe.length;P+=1){const ye=Zn(C,Fe,P);B[P]?B[P].p(ye,q):(B[P]=Yn(ye),B[P].c(),B[P].m(Be,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=Fe.length}q&1&&ot!==(ot=C[0].chapters_count+"")&&Q(wt,ot),q&1&&lt!==(lt=C[0].description+"")&&Q(St,lt)},d(C){C&&(x(t),x(n),x(kt),x(Ee)),$&&$.d(C),ht(Y,C),ht(D,C),ht(B,C)}}}function as(e){let t;return{c(){t=b("div"),t.textContent="Произошла ошибка при загрузке данных",d(t,"class","error svelte-q01eq8")},m(n,r){M(n,t,r)},p:E,d(n){n&&x(t)}}}function ss(e){let t;return{c(){t=b("div"),t.textContent="Загрузка...",d(t,"class","loading svelte-q01eq8")},m(n,r){M(n,t,r)},p:E,d(n){n&&x(t)}}}function On(e){let t,n,r,o,i,a,l,s,c;return{c(){t=b("div"),n=b("h3"),n.textContent="Управление книгой",r=I(),o=b("div"),i=b("a"),a=H("Редактировать книгу"),s=I(),c=b("button"),c.textContent="Удалить книгу",d(n,"class","admin-heading"),d(i,"href",l=`/admin/edit-book/${e[0].id}`),d(i,"class","admin-button edit-btn"),d(c,"class","admin-button delete-btn"),d(o,"class","admin-buttons"),d(t,"class","admin-controls")},m(f,u){M(f,t,u),h(t,n),h(t,r),h(t,o),h(o,i),h(i,a),h(o,s),h(o,c)},p(f,u){u&1&&l!==(l=`/admin/edit-book/${f[0].id}`)&&d(i,"href",l)},d(f){f&&x(t)}}}function qn(e){let t,n=e[13].name+"",r;return{c(){t=b("span"),r=H(n),d(t,"class","meta-tag svelte-q01eq8")},m(o,i){M(o,t,i),h(t,r)},p(o,i){i&1&&n!==(n=o[13].name+"")&&Q(r,n)},d(o){o&&x(t)}}}function Hn(e){let t,n=e[10].name+"",r;return{c(){t=b("span"),r=H(n),d(t,"class","meta-tag svelte-q01eq8")},m(o,i){M(o,t,i),h(t,r)},p(o,i){i&1&&n!==(n=o[10].name+"")&&Q(r,n)},d(o){o&&x(t)}}}function Yn(e){let t,n=e[7].name+"",r;return{c(){t=b("span"),r=H(n),d(t,"class","meta-tag svelte-q01eq8")},m(o,i){M(o,t,i),h(t,r)},p(o,i){i&1&&n!==(n=o[7].name+"")&&Q(r,n)},d(o){o&&x(t)}}}function ls(e){let t;function n(i,a){return i[1]?ss:i[2]||!i[0]?as:is}let r=n(e),o=r(e);return{c(){t=b("div"),o.c(),d(t,"class","container svelte-q01eq8")},m(i,a){M(i,t,a),o.m(t,null)},p(i,[a]){r===(r=n(i))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(t,null)))},i:E,o:E,d(i){i&&x(t),o.d()}}}function cs(e,t,n){let{id:r}=t,o=null,i=!0,a=!1,l=!1;const s=ee.subscribe(c=>{var f,u;c.user,n(3,l=((u=(f=c.user)==null?void 0:f.roles)==null?void 0:u.includes("admin"))||!1)});return Ye(async()=>{try{n(0,o=await Xa(r))}catch{n(2,a=!0)}finally{n(1,i=!1)}return()=>{s()}}),e.$$set=c=>{"id"in c&&n(4,r=c.id)},[o,i,a,l,r]}class us extends he{constructor(t){super(),me(this,t,cs,ls,re,{id:4})}}function Dn(e,t,n){const r=e.slice();return r[23]=t[n],r}function fs(e){let t,n,r;return{c(){t=b("button"),t.textContent="Войти",d(t,"class","auth-button svelte-dq0d63")},m(o,i){M(o,t,i),n||(r=se(t,"click",e[10]),n=!0)},p:E,d(o){o&&x(t),n=!1,r()}}}function ds(e){let t,n,r,o,i=e[8].username+"",a,l,s,c,f,u,m,g,v,p,y,_,k,L,V,Z;function j(R,A){return R[8].avatar_url?hs:ms}let F=j(e),S=F(e),w=e[9]&&Bn();return{c(){t=b("div"),n=b("button"),S.c(),r=I(),o=b("span"),a=H(i),l=I(),s=ln("svg"),c=ln("polyline"),f=I(),u=b("div"),m=b("a"),m.textContent="Профиль",g=I(),v=b("a"),v.textContent="Закладки",p=I(),w&&w.c(),y=I(),_=b("div"),k=I(),L=b("button"),L.textContent="Выйти",d(o,"class","username svelte-dq0d63"),d(c,"points","6 9 12 15 18 9"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"width","16"),d(s,"height","16"),d(s,"viewBox","0 0 24 24"),d(s,"fill","none"),d(s,"stroke","currentColor"),d(s,"stroke-width","2"),d(s,"stroke-linecap","round"),d(s,"stroke-linejoin","round"),d(n,"class","user-button svelte-dq0d63"),d(m,"href","/profile"),d(m,"class","dropdown-item svelte-dq0d63"),d(v,"href","/bookmarks"),d(v,"class","dropdown-item svelte-dq0d63"),d(_,"class","dropdown-divider svelte-dq0d63"),d(L,"class","dropdown-item logout-btn svelte-dq0d63"),d(u,"class","dropdown-menu svelte-dq0d63"),we(u,"active",e[7]),d(t,"class","user-menu svelte-dq0d63")},m(R,A){M(R,t,A),h(t,n),S.m(n,null),h(n,r),h(n,o),h(o,a),h(n,l),h(n,s),h(s,c),h(t,f),h(t,u),h(u,m),h(u,g),h(u,v),h(u,p),w&&w.m(u,null),h(u,y),h(u,_),h(u,k),h(u,L),V||(Z=[se(n,"click",e[14]),te(ne.call(null,m)),te(ne.call(null,v)),se(L,"click",e[11])],V=!0)},p(R,A){F===(F=j(R))&&S?S.p(R,A):(S.d(1),S=F(R),S&&(S.c(),S.m(n,r))),A&256&&i!==(i=R[8].username+"")&&Q(a,i),R[9]?w||(w=Bn(),w.c(),w.m(u,y)):w&&(w.d(1),w=null),A&128&&we(u,"active",R[7])},d(R){R&&x(t),S.d(),w&&w.d(),V=!1,J(Z)}}}function ms(e){let t,n=e[8].username[0]+"",r;return{c(){t=b("div"),r=H(n),d(t,"class","avatar-placeholder svelte-dq0d63")},m(o,i){M(o,t,i),h(t,r)},p(o,i){i&256&&n!==(n=o[8].username[0]+"")&&Q(r,n)},d(o){o&&x(t)}}}function hs(e){let t,n,r;return{c(){t=b("img"),Se(t.src,n=e[8].avatar_url)||d(t,"src",n),d(t,"alt",r=e[8].username),d(t,"class","avatar svelte-dq0d63")},m(o,i){M(o,t,i)},p(o,i){i&256&&!Se(t.src,n=o[8].avatar_url)&&d(t,"src",n),i&256&&r!==(r=o[8].username)&&d(t,"alt",r)},d(o){o&&x(t)}}}function Bn(e){let t,n,r,o,i,a,l;return{c(){t=b("div"),n=I(),r=b("a"),r.textContent="Управление книгами",o=I(),i=b("a"),i.textContent="Управление пользователями",d(t,"class","dropdown-divider svelte-dq0d63"),d(r,"href","/admin/books"),d(r,"class","dropdown-item admin-item svelte-dq0d63"),d(i,"href","/admin/users"),d(i,"class","dropdown-item admin-item svelte-dq0d63")},m(s,c){M(s,t,c),M(s,n,c),M(s,r,c),M(s,o,c),M(s,i,c),a||(l=[te(ne.call(null,r)),te(ne.call(null,i))],a=!0)},d(s){s&&(x(t),x(n),x(r),x(o),x(i)),a=!1,J(l)}}}function Xn(e){let t,n,r,o,i,a,l,s,c,f,u,m,g,v=e[2]&&e[1].length>0&&zn(e);return{c(){t=b("div"),n=b("div"),r=b("div"),o=b("div"),i=b("input"),a=I(),l=b("div"),s=b("button"),s.textContent="Книги",c=I(),f=b("button"),f.textContent="Авторы",u=I(),v&&v.c(),d(i,"type","text"),d(i,"class","search-input svelte-dq0d63"),d(i,"placeholder","Поиск..."),d(o,"class","search-bar svelte-dq0d63"),d(s,"class","search-type-tab svelte-dq0d63"),we(s,"active",e[4]==="books"),d(f,"class","search-type-tab svelte-dq0d63"),we(f,"active",e[4]==="authors"),d(l,"class","search-types svelte-dq0d63"),d(r,"class","search-container svelte-dq0d63"),d(n,"class","search-overlay svelte-dq0d63"),we(n,"closing",e[5]),d(t,"class","search-overlay-wrapper svelte-dq0d63")},m(p,y){M(p,t,y),h(t,n),h(n,r),h(r,o),h(o,i),cn(i,e[0]),h(r,a),h(r,l),h(l,s),h(l,c),h(l,f),h(r,u),v&&v.m(r,null),e[18](r),m||(g=[se(i,"input",e[15]),se(i,"input",e[12]),se(s,"click",e[16]),se(f,"click",e[17])],m=!0)},p(p,y){y&1&&i.value!==p[0]&&cn(i,p[0]),y&16&&we(s,"active",p[4]==="books"),y&16&&we(f,"active",p[4]==="authors"),p[2]&&p[1].length>0?v?v.p(p,y):(v=zn(p),v.c(),v.m(r,null)):v&&(v.d(1),v=null),y&32&&we(n,"closing",p[5])},d(p){p&&x(t),v&&v.d(),e[18](null),m=!1,J(g)}}}function zn(e){let t,n=ue(e[1]),r=[];for(let o=0;o<n.length;o+=1)r[o]=$n(Dn(e,n,o));return{c(){t=b("div");for(let o=0;o<r.length;o+=1)r[o].c();d(t,"class","search-results svelte-dq0d63")},m(o,i){M(o,t,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(o,i){if(i&8194){n=ue(o[1]);let a;for(a=0;a<n.length;a+=1){const l=Dn(o,n,a);r[a]?r[a].p(l,i):(r[a]=$n(l),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(o){o&&x(t),ht(r,o)}}}function $n(e){let t,n,r,o,i,a,l,s=e[23].title+"",c,f,u,m=e[23].status+"",g,v,p,y,_;return{c(){t=b("a"),n=b("img"),i=I(),a=b("div"),l=b("div"),c=H(s),f=I(),u=b("div"),g=H(m),v=I(),Se(n.src,r=e[23].thumbnail)||d(n,"src",r),d(n,"alt",o=e[23].title),d(n,"class","result-cover svelte-dq0d63"),d(l,"class","result-title svelte-dq0d63"),d(u,"class","result-status svelte-dq0d63"),d(a,"class","result-info svelte-dq0d63"),d(t,"href",p=`/book/${e[23].id}`),d(t,"class","search-result-item svelte-dq0d63")},m(k,L){M(k,t,L),h(t,n),h(t,i),h(t,a),h(a,l),h(l,c),h(a,f),h(a,u),h(u,g),h(t,v),y||(_=[te(ne.call(null,t)),se(t,"click",e[13])],y=!0)},p(k,L){L&2&&!Se(n.src,r=k[23].thumbnail)&&d(n,"src",r),L&2&&o!==(o=k[23].title)&&d(n,"alt",o),L&2&&s!==(s=k[23].title+"")&&Q(c,s),L&2&&m!==(m=k[23].status+"")&&Q(g,m),L&2&&p!==(p=`/book/${k[23].id}`)&&d(t,"href",p)},d(k){k&&x(t),y=!1,J(_)}}}function vs(e){let t,n,r,o,i,a,l,s,c,f,u,m,g;function v(k,L){return k[8]?ds:fs}let p=v(e),y=p(e),_=e[3]&&Xn(e);return{c(){t=b("header"),n=b("div"),r=b("a"),r.textContent="BooksLib",o=I(),i=b("nav"),a=b("a"),a.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                Каталог`,l=I(),s=b("button"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                Поиск`,c=I(),f=b("div"),y.c(),u=I(),_&&_.c(),d(r,"href","/"),d(r,"class","logo svelte-dq0d63"),d(a,"href","/catalog"),d(a,"class","nav-link svelte-dq0d63"),d(s,"class","nav-link search-btn svelte-dq0d63"),d(i,"class","svelte-dq0d63"),d(f,"class","auth-section svelte-dq0d63"),d(n,"class","container svelte-dq0d63"),d(t,"class","svelte-dq0d63")},m(k,L){M(k,t,L),h(t,n),h(n,r),h(n,o),h(n,i),h(i,a),h(i,l),h(i,s),h(n,c),h(n,f),y.m(f,null),h(t,u),_&&_.m(t,null),m||(g=[te(ne.call(null,r)),te(ne.call(null,a)),se(s,"click",e[13])],m=!0)},p(k,[L]){p===(p=v(k))&&y?y.p(k,L):(y.d(1),y=p(k),y&&(y.c(),y.m(f,null))),k[3]?_?_.p(k,L):(_=Xn(k),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i:E,o:E,d(k){k&&x(t),y.d(),_&&_.d(),m=!1,J(g)}}}function ps(e,t,n){let r="",o=[],i=!1,a,l=!1,s="books",c=!1,f,u=!1,m=null,g=!1;const v=ee.subscribe(R=>{var A,O;n(8,m=R.user),n(9,g=((O=(A=R.user)==null?void 0:A.roles)==null?void 0:O.includes("admin"))||!1)});function p(){Er()}function y(){ee.logout()}ir(()=>{v()}),Ye(()=>(document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}));function _(R){if(l&&f&&!f.contains(R.target)&&V(),u){const A=document.querySelector(".user-menu");A&&!A.contains(R.target)&&n(7,u=!1)}}async function k(){if(r.length<2){n(1,o=[]),n(2,i=!1);return}clearTimeout(a),a=setTimeout(async()=>{n(1,o=await za(r)),n(2,i=!0)},300)}function L(){l?V():(n(3,l=!0),setTimeout(()=>{var R;(R=document.querySelector(".search-input"))==null||R.focus()},100))}function V(){n(5,c=!0),setTimeout(()=>{n(3,l=!1),n(5,c=!1),n(0,r=""),n(1,o=[]),n(2,i=!1)},300)}function Z(){n(7,u=!u)}function j(){r=this.value,n(0,r)}const F=()=>n(4,s="books"),S=()=>n(4,s="authors");function w(R){Vt[R?"unshift":"push"](()=>{f=R,n(6,f)})}return[r,o,i,l,s,c,f,u,m,g,p,y,k,L,Z,j,F,S,w]}class gs extends he{constructor(t){super(),me(this,t,ps,vs,re,{})}}function bs(e){let t,n,r,o,i,a,l,s,c,f,u,m,g,v;return{c(){t=b("footer"),n=b("div"),r=b("div"),o=b("a"),o.textContent="О нас",i=I(),a=b("a"),a.textContent="Правила",l=I(),s=b("a"),s.textContent="Контакты",c=I(),f=b("a"),f.textContent="Помощь",u=I(),m=b("div"),m.textContent=`© ${new Date().getFullYear()} BooksLib. Все права защищены.`,d(o,"href","/about"),d(o,"class","footer-link svelte-1p54648"),d(a,"href","/rules"),d(a,"class","footer-link svelte-1p54648"),d(s,"href","/contacts"),d(s,"class","footer-link svelte-1p54648"),d(f,"href","/help"),d(f,"class","footer-link svelte-1p54648"),d(r,"class","footer-links svelte-1p54648"),d(m,"class","copyright svelte-1p54648"),d(n,"class","container svelte-1p54648"),d(t,"class","svelte-1p54648")},m(p,y){M(p,t,y),h(t,n),h(n,r),h(r,o),h(r,i),h(r,a),h(r,l),h(r,s),h(r,c),h(r,f),h(n,u),h(n,m),g||(v=[te(ne.call(null,o)),te(ne.call(null,a)),te(ne.call(null,s)),te(ne.call(null,f))],g=!0)},p:E,i:E,o:E,d(p){p&&x(t),g=!1,J(v)}}}class ys extends he{constructor(t){super(),me(this,t,null,bs,re,{})}}function _s(e){let t;return{c(){t=b("div"),t.innerHTML='<h2>Авторизация...</h2> <div class="spinner svelte-9tsot9"></div> <p>Пожалуйста, подождите пока мы завершим процесс аутентификации.</p>',d(t,"class","loading svelte-9tsot9")},m(n,r){M(n,t,r)},p:E,d(n){n&&x(t)}}}function ws(e){let t,n,r,o,i,a,l,s,c;return{c(){t=b("div"),n=b("h2"),n.textContent="Ошибка аутентификации",r=I(),o=b("p"),i=H(e[0]),a=I(),l=b("button"),l.textContent="Вернуться на главную",d(l,"class","svelte-9tsot9"),d(t,"class","error-message svelte-9tsot9")},m(f,u){M(f,t,u),h(t,n),h(t,r),h(t,o),h(o,i),h(t,a),h(t,l),s||(c=se(l,"click",e[1]),s=!0)},p(f,u){u&1&&Q(i,f[0])},d(f){f&&x(t),s=!1,c()}}}function ks(e){let t,n;function r(a,l){return a[0]?ws:_s}let o=r(e),i=o(e);return{c(){t=b("div"),n=b("div"),i.c(),d(n,"class","auth-callback svelte-9tsot9"),d(t,"class","container svelte-9tsot9")},m(a,l){M(a,t,l),h(t,n),i.m(n,null)},p(a,[l]){o===(o=r(a))&&i?i.p(a,l):(i.d(1),i=o(a),i&&(i.c(),i.m(n,null)))},i:E,o:E,d(a){a&&x(t),i.d()}}}function Ss(e,t,n){let r="";return Ye(async()=>{const i=new URLSearchParams(window.location.search),a=i.get("code");if(a)try{const l=await Ha(a);ee.setTokens(l.access_token,l.refresh_token,l.token_type);const s=await Pr(l);ee.setUser(s),Zt("/")}catch(l){console.error("Auth error:",l),n(0,r="Authentication failed. Please try again.")}else i.get("error")?n(0,r=i.get("error_description")||"Authentication failed"):n(0,r="Invalid callback URL")}),[r,()=>Zt("/")]}class Ls extends he{constructor(t){super(),me(this,t,Ss,ks,re,{})}}function Cs(e){let t,n,r,o,i,a,l,s,c,f,u;return{c(){t=b("div"),n=b("div"),r=b("h1"),r.textContent="Вход в систему",o=I(),i=b("p"),i.textContent="Для доступа к расширенным функциям библиотеки, пожалуйста, войдите в свой аккаунт.",a=I(),l=b("button"),l.textContent="Войти через OAuth сервис",s=I(),c=b("p"),c.textContent="Вы будете перенаправлены на страницу авторизации нашего сервиса.",d(l,"class","login-button"),d(c,"class","login-info"),d(n,"class","login-container"),d(t,"class","container")},m(m,g){M(m,t,g),h(t,n),h(n,r),h(n,o),h(n,i),h(n,a),h(n,l),h(n,s),h(n,c),f||(u=se(l,"click",e[0]),f=!0)},p:E,i:E,o:E,d(m){m&&x(t),f=!1,u()}}}function Es(e){function t(){Er()}return[t]}class Ps extends he{constructor(t){super(),me(this,t,Es,Cs,re,{})}}function Rs(e){let t,n,r,o,i,a,l,s,c,f,u,m,g,v;return n=new gs({}),i=new ft({props:{path:"/",component:os}}),l=new ft({props:{path:"/book/:id",component:us}}),c=new ft({props:{path:"/login",component:Ps}}),u=new ft({props:{path:"/callback",component:Ls}}),g=new ys({}),{c(){t=b("div"),fe(n.$$.fragment),r=I(),o=b("main"),fe(i.$$.fragment),a=I(),fe(l.$$.fragment),s=I(),fe(c.$$.fragment),f=I(),fe(u.$$.fragment),m=I(),fe(g.$$.fragment),d(o,"class","svelte-1vjgzv3"),d(t,"class","app svelte-1vjgzv3")},m(p,y){M(p,t,y),ie(n,t,null),h(t,r),h(t,o),ie(i,o,null),h(o,a),ie(l,o,null),h(o,s),ie(c,o,null),h(o,f),ie(u,o,null),h(t,m),ie(g,t,null),v=!0},p:E,i(p){v||(W(n.$$.fragment,p),W(i.$$.fragment,p),W(l.$$.fragment,p),W(c.$$.fragment,p),W(u.$$.fragment,p),W(g.$$.fragment,p),v=!0)},o(p){N(n.$$.fragment,p),N(i.$$.fragment,p),N(l.$$.fragment,p),N(c.$$.fragment,p),N(u.$$.fragment,p),N(g.$$.fragment,p),v=!1},d(p){p&&x(t),ae(n),ae(i),ae(l),ae(c),ae(u),ae(g)}}}function Is(e){let t,n;return t=new Lo({props:{url:e[0],$$slots:{default:[Rs]},$$scope:{ctx:e}}}),{c(){fe(t.$$.fragment)},m(r,o){ie(t,r,o),n=!0},p(r,[o]){const i={};o&1&&(i.url=r[0]),o&4&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(W(t.$$.fragment,r),n=!0)},o(r){N(t.$$.fragment,r),n=!1},d(r){ae(t,r)}}}function xs(e,t,n){let{url:r=""}=t;Ye(()=>{ee.initialize(),ee.subscribe(i=>{i.token&&Ya(i.token)&&o(i.token.refresh_token)})});async function o(i){try{const a=await Da(i);ee.setTokens(a.access_token,a.refresh_token,a.token_type);const l=await Pr(a);ee.setUser(l)}catch(a){console.error("Failed to refresh token:",a),ee.logout()}}return e.$$set=i=>{"url"in i&&n(0,r=i.url)},[r]}class Ms extends he{constructor(t){super(),me(this,t,xs,Is,re,{url:0})}}new Ms({target:document.body});
